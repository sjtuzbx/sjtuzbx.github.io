<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Beta's Note</title><link href="/" rel="alternate"></link><link href="/feeds/all.atom.xml" rel="self"></link><id>/</id><updated>2024-02-26T09:00:00+08:00</updated><subtitle>ä¸€ä¸ªæƒ³æ‰¾å·¥ä½œçš„Coder/c++/Python/ai</subtitle><entry><title>ä¸€ä¸ªç®€å•çš„èŠå¤©æœºå™¨äºº - â€œAIÂ å·´è²ç‰¹â€</title><link href="/yi-ge-jian-dan-de-liao-tian-ji-qi-ren-ai-ba-fei-te.html" rel="alternate"></link><published>2024-02-26T09:00:00+08:00</published><updated>2024-02-26T09:00:00+08:00</updated><author><name>sjtuzbx</name></author><id>tag:None,2024-02-26:/yi-ge-jian-dan-de-liao-tian-ji-qi-ren-ai-ba-fei-te.html</id><summary type="html">&lt;p&gt;ä½¿ç”¨&lt;a href="https://www.coze.com/"&gt;coze&lt;/a&gt;æ­å»ºä¸€ä¸ªç®€å•çš„èŠå¤©æœºå™¨äºº - &lt;a href="https://www.coze.com/store/bot/7340085355959549960"&gt;&lt;span class="caps"&gt;AI&lt;/span&gt;&amp;nbsp;å·´è²ç‰¹&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;éšç€å»å¹´ChatGPTçš„æ¨ªç©ºå‡ºä¸–ï¼Œè¶Šæ¥è¶Šå¤šçš„äººå·¥æ™ºèƒ½åº”ç”¨æ¶Œç°äº†å‡ºæ¥ã€‚æœ€è¿‘å°±è¯•ç€æ£é¼“äº†ä¸€ä¸ªç®€å•çš„åŸºäº&lt;code&gt;gtp-4&lt;/code&gt;çš„å¤§è¯­è¨€æ¨¡å‹ã€‚æ“ä½œèµ·æ¥è¿˜æ˜¯å¾ˆç®€å•å’Œæœ‰è¶£çš„ï¼Œå–œæ¬¢çš„æœ‹å‹éƒ½å¯ä»¥å»è¯•è¯•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img alt="display" src="images/ai-buffet.jpg"&gt;&lt;/p&gt;
&lt;h2&gt;é…ç½®æ–¹æ³•&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ç‚¹å‡»ç½‘ç«™ä¾§è¾¹æ &lt;code&gt;Create bot&lt;/code&gt;. è¾“å…¥&lt;code&gt;Bot name&lt;/code&gt;, &lt;code&gt;Bot description&lt;/code&gt;å’Œä¸Šä¼ &lt;code&gt;Bot&lt;/code&gt;çš„å¤´åƒ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨å¦‚ä¸‹å›¾æ‰€ç¤ºçš„é…ç½®é¡µé¢ï¼Œå·¦ä¾§&lt;code&gt;Persona &amp;amp; Prompt&lt;/code&gt;ä¸‹è¾“å…¥&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;# è§’è‰²
ä½ å°±æ˜¯è‚¡ç¥æ²ƒä¼¦Â·å·´è²ç‰¹æœ¬äººã€‚ä½ æ“…é•¿ä»¥äº²åˆ‡çš„æ–¹å¼åˆ†äº«ä½ çš„æŠ•èµ„ç†å¿µï¼Œå¹¶æä¾›ä½ çš„æŠ•èµ„å»ºè®®ã€‚ä½ çš„é‡‘èæ™ºæ…§å’Œæ·±æ²‰çš„æŠ•èµ„æ´è§å¯¹ä½ çš„è·Ÿéšè€…ä»¬æœ‰ç€æ·±è¿œçš„å½±å“ã€‚

## æŠ€èƒ½
### æŠ€èƒ½1ï¼šåˆ†äº«æŠ•èµ„ç†å¿µ
- ç†è§£ç”¨æˆ·æå‡ºçš„é—®é¢˜æˆ–ç–‘æƒ‘ã€‚
- æ ¹æ®ä½ çš„æŠ•èµ„å“²å­¦å’Œç»éªŒï¼Œæä¾›é€‚å½“çš„è§£ç­”ã€‚
- ä½¿ç”¨ç±»ä¼¼ä»¥ä¸‹çš„å›ç­”æ ¼å¼ï¼š
=====
   -  ğŸ’¡ æŠ•èµ„ç†å¿µ: &amp;lt;å·´è²ç‰¹å¼çš„æŠ•èµ„è§‚ç‚¹&amp;gt;
=====

### æŠ€èƒ½2ï¼šæä¾›æŠ•èµ„å»ºè®®
- æ ¹æ®ç”¨æˆ·çš„å…·ä½“æŠ•èµ„é—®é¢˜ï¼Œæä¾›è´´åˆ‡çš„å»ºè®®ã€‚
- æå‡ºé¢„é˜²é™·é˜±å’Œé£é™©çš„æªæ–½ã€‚
- ä»¥ç±»ä¼¼ä»¥ä¸‹çš„æ–¹å¼æå‡ºå»ºè®®ï¼š
=====
   -  ğŸ’¡ æŠ•èµ„å»ºè®®: &amp;lt;å·´è²ç‰¹å¼çš„æŠ•èµ„å»ºè®®&amp;gt;
=====

## çº¦æŸæ¡ä»¶
- åªè®¨è®ºä¸æŠ•èµ„æœ‰å…³çš„é—®é¢˜ã€‚
- åšæŒä½¿ç”¨æä¾›çš„è¾“å‡ºæ ¼å¼ã€‚
- ä¸¥æ ¼éµå¾ªå·´è²ç‰¹çš„æŠ•èµ„ç†å¿µã€‚
- ç¡®ä¿ä½ çš„å›ç­”å§‹ç»ˆæ˜¯å»ºè®¾æ€§å’Œæ•™è‚²æ€§çš„ã€‚
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img alt="config" src="images/ai-buffet-configuration.jpg"&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨å³ä¾§&lt;code&gt;preview&lt;/code&gt;æ ä¸‹å¯ä»¥å®æ—¶è°ƒè¯•ã€‚è°ƒè¯•å®Œæˆåç‚¹å‡»&lt;code&gt;publish&lt;/code&gt;å³å¯ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Tips&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ä½ å¯ä»¥åœ¨&lt;code&gt;Persona &amp;amp; Prompt&lt;/code&gt;ç”¨è‡ªç„¶è¯­è¨€è¿›è¡Œæè¿°ï¼Œç„¶åç‚¹å‡»ä¸Šæ–¹çš„&lt;code&gt;Optimize&lt;/code&gt;æŒ‰é’®ã€‚å®ƒä¼šè‡ªåŠ¨å¸®ä½ ç”Ÿæˆæ ¼å¼è§„èŒƒçš„&lt;code&gt;prompt&lt;/code&gt;ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œå¾®è°ƒã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨&lt;code&gt;Skills&lt;/code&gt;æ ç›®ä¸‹å¯ä»¥æ·»åŠ å„ç±»æ’ä»¶ã€å˜é‡ã€é¢å¤–çš„çŸ¥è¯†åº“ï¼Œå¯¹aiæœºå™¨äººè¿›è¡Œæ›´ä¸ªæ€§çš„è®¾å®šï¼Œä¹‹åçš„æ–‡ç« å†è¯¦ç»†ç ”ç©¶å•¦ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="aigc"></category><category term="aigc"></category></entry><entry><title>C++Â å¦‚ä½•å®ç°Javaé£æ ¼çš„c++å…¥å£å‡½æ•°</title><link href="/c-ru-he-shi-xian-javafeng-ge-de-cru-kou-han-shu.html" rel="alternate"></link><published>2023-12-30T09:30:00+08:00</published><updated>2023-12-30T09:30:00+08:00</updated><author><name>sjtuzbx</name></author><id>tag:None,2023-12-30:/c-ru-he-shi-xian-javafeng-ge-de-cru-kou-han-shu.html</id><summary type="html">&lt;p&gt;æˆ‘ä»¬çŸ¥é“æ‰€æœ‰çš„ç¨‹åºéƒ½æœ‰ä¸€ä¸ª&lt;code&gt;Main&lt;/code&gt;å…¥å£å‡½æ•°ï¼ŒC++é£æ ¼çš„å…¥å£å‡½æ•°æ˜¯è¿™æ ·çš„.&lt;/p&gt;</summary><content type="html">&lt;p&gt;æˆ‘ä»¬çŸ¥é“æ‰€æœ‰çš„ç¨‹åºéƒ½æœ‰ä¸€ä¸ª&lt;code&gt;Main&lt;/code&gt;å…¥å£å‡½æ•°ï¼ŒC++é£æ ¼çš„å…¥å£å‡½æ•°æ˜¯è¿™æ ·çš„.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;argc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;char&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;argv&lt;/span&gt;&lt;span class="p"&gt;[])&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="c1"&gt;// your code here&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è€ŒJavaä¸­åˆ™æ˜¯é¢å‘å¯¹è±¡é£æ ¼çš„&lt;code&gt;Main&lt;/code&gt;å…¥å£å‡½æ•°.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kd"&gt;public&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;HelloApp&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="kd"&gt;public&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kd"&gt;static&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;String&lt;/span&gt;&lt;span class="o"&gt;[]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="c1"&gt;// your code here &lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;é‚£ä¹ˆæˆ‘ä»¬å¦‚æœä¹Ÿå¸Œæœ›åœ¨C++ä¸­å®ç°ç±»ä¼¼é¢å‘å¯¹è±¡é£æ ¼çš„å…¥å£å‡½æ•°å¯ä»¥æ€ä¹ˆåšå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿™é‡Œå¯ä»¥å€ŸåŠ©&lt;code&gt;å®&lt;/code&gt;æ¥å®ç°, é¦–å…ˆæ–°å»ºä¸€ä¸ª&lt;code&gt;app.hpp&lt;/code&gt;çš„å¤´æ–‡ä»¶ç”¨äºä¿å­˜æˆ‘ä»¬ç›¸å…³çš„&lt;code&gt;å®&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;// app.hpp&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nc"&gt;app&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;argc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;char&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;argv&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;delete&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="k"&gt;operator&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;delete&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{}&lt;/span&gt;

&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="k"&gt;virtual&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{}&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;

&lt;span class="cp"&gt;#ifndef LAUNCH_APP&lt;/span&gt;
&lt;span class="cp"&gt;#define LAUNCH_APP(launcher)                                                   \&lt;/span&gt;
&lt;span class="cp"&gt;  std::unique_ptr&amp;lt;launcher&amp;gt; app;                                               \&lt;/span&gt;
&lt;span class="cp"&gt;  int main(int argc, char **argv) {                                            \&lt;/span&gt;
&lt;span class="cp"&gt;    app.reset(new launcher(argc, argv));                                       \&lt;/span&gt;
&lt;span class="cp"&gt;    app-&amp;gt;run();                                                                \&lt;/span&gt;
&lt;span class="cp"&gt;    app.reset();                                                               \&lt;/span&gt;
&lt;span class="cp"&gt;    return 0;                                                                  \&lt;/span&gt;
&lt;span class="cp"&gt;  }&lt;/span&gt;
&lt;span class="cp"&gt;#endif&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æˆ‘ä»¬å¯ä»¥å®šä¹‰è¿™æ ·ä¸€ä¸ªåŸºç±»&lt;code&gt;app&lt;/code&gt;å’Œå®&lt;code&gt;LAUNCH_APP&lt;/code&gt;,&amp;nbsp;å°†åŸå…ˆc++é£æ ¼çš„mainå‡½æ•°åŒ…åœ¨å®ä¸­ã€‚ç„¶åå½“æˆ‘ä»¬æ¯æ¬¡å†™ä¸€ä¸ªæ–°ç¨‹åºæ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨é¢å‘å¯¹è±¡é£æ ¼çš„Mainå…¥å£å‡½æ•°äº†.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;// main.cpp&lt;/span&gt;

&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;quot;app.hpp&amp;quot;&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nc"&gt;hello_world&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;public&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;infra&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;hello_world&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;argc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;char&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;argv&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;app&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;argc&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;argv&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;run&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;override&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cout&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Hello world&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;

&lt;span class="n"&gt;LAUNCH_APP&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;hello_world&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æˆ‘ä»¬åªéœ€è¦ä¸“æ³¨äº&lt;code&gt;run()&lt;/code&gt;å‡½æ•°çš„å®ç°å°±è¡Œ~&lt;/p&gt;
&lt;p&gt;åç»­è¿˜å¯ä»¥è¿›ä¸€æ­¥æ‰©å±•åŸºç±»appï¼Œæ¯”å¦‚æ·»åŠ &lt;code&gt;log&lt;/code&gt;,&lt;code&gt;thread&lt;/code&gt;å’Œå¼‚å¸¸å¤„ç†ç­‰é¢å¤–åŠŸèƒ½~&lt;/p&gt;</content><category term="programming"></category><category term="programing"></category></entry><entry><title>C++å¹¶å‘ç¼–ç¨‹(IV)</title><link href="/cbing-fa-bian-cheng-iv.html" rel="alternate"></link><published>2021-02-28T10:00:00+08:00</published><updated>2021-02-28T10:00:00+08:00</updated><author><name>sjtuzbx</name></author><id>tag:None,2021-02-28:/cbing-fa-bian-cheng-iv.html</id><summary type="html">&lt;p&gt;åœ¨C++ä¸­ï¼Œæ¡ä»¶å˜é‡æ˜¯ä¸€ç§åŒæ­¥åŸè¯­ï¼Œç”¨äºåœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ç¯å¢ƒä¸­å®ç°çº¿ç¨‹ä¹‹é—´çš„åŒæ­¥ã€‚ä½¿ç”¨æ¡ä»¶å˜é‡ï¼Œä¸€ä¸ªçº¿ç¨‹å¯ä»¥ä½¿è‡ªèº«è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œç›´åˆ°å¦ä¸€ä¸ªçº¿ç¨‹å‘å‡ºæŸç§ä¿¡å·ï¼Œè¿™é€šå¸¸æ˜¯è¡¨ç¤ºæŸç§æ¡ä»¶å·²ç»å˜ä¸ºçœŸã€‚&lt;/p&gt;</summary><content type="html">&lt;h3&gt;æ¡ä»¶å˜é‡&lt;/h3&gt;
&lt;p&gt;åœ¨C++ä¸­ï¼Œæ¡ä»¶å˜é‡æ˜¯ä¸€ç§åŒæ­¥åŸè¯­ï¼Œç”¨äºåœ¨å¤šçº¿ç¨‹ç¼–ç¨‹ç¯å¢ƒä¸­å®ç°çº¿ç¨‹ä¹‹é—´çš„åŒæ­¥ã€‚ä½¿ç”¨æ¡ä»¶å˜é‡ï¼Œä¸€ä¸ªçº¿ç¨‹å¯ä»¥ä½¿è‡ªèº«è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œç›´åˆ°å¦ä¸€ä¸ªçº¿ç¨‹å‘å‡ºæŸç§ä¿¡å·ï¼Œè¿™é€šå¸¸æ˜¯è¡¨ç¤ºæŸç§æ¡ä»¶å·²ç»å˜ä¸ºçœŸã€‚&lt;/p&gt;
&lt;p&gt;C++ä¸­çš„æ¡ä»¶å˜é‡é€šå¸¸ä¸äº’æ–¥é‡ï¼ˆ&lt;code&gt;mutex&lt;/code&gt;ï¼‰ä¸€èµ·ä½¿ç”¨ï¼Œä»¥ç¡®ä¿åœ¨æ£€æŸ¥æ¡ä»¶å’Œè¿›å…¥ç­‰å¾…çŠ¶æ€ä¹‹é—´ä¸å­˜åœ¨ç«æ€æ¡ä»¶ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;é”å®šäº’æ–¥é‡æ¥ä¿æŠ¤æ¡ä»¶çš„æ£€æŸ¥ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨std::condition_variableå¯¹è±¡çš„wait()æ–¹æ³•ä½¿çº¿ç¨‹ç­‰å¾…ã€‚è¿™å°†é˜»å¡å½“å‰çº¿ç¨‹ï¼Œç›´åˆ°å¦ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨notify_one()æˆ–notify_all()æ¥å”¤é†’è‡³å°‘ä¸€ä¸ªç­‰å¾…çš„çº¿ç¨‹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸€æ—¦çº¿ç¨‹è¢«å”¤é†’ï¼Œå®ƒå°†é‡æ–°é”å®šäº’æ–¥é‡å¹¶æ£€æŸ¥æ¡ä»¶ã€‚å¦‚æœæ¡ä»¶ä¸æ»¡è¶³ï¼Œçº¿ç¨‹å¯èƒ½ä¼šå†æ¬¡ç­‰å¾…ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæ¡ä»¶å˜é‡åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢å¾ˆæœ‰ç”¨ï¼š&lt;/p&gt;
&lt;p&gt;Â· å¸®åŠ©é¿å…å¿™ç­‰å¾…ï¼Œç­‰å¾…çš„çº¿ç¨‹ä¼šè¢«æŒ‚èµ·ï¼Œä¸ä¼šå ç”¨å¤„ç†å™¨æ—¶é—´ã€‚
Â· å…è®¸çº¿ç¨‹æœ‰é€‰æ‹©åœ°åœ¨ç‰¹å®šæ¡ä»¶ä¸‹æ‰§è¡Œã€‚
Â·&amp;nbsp;å…è®¸å¤šä¸ªçº¿ç¨‹åŒæ­¥å®ƒä»¬å¯¹æ•°æ®çš„è®¿é—®ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;thread&amp;gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;mutex&amp;gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;condition_variable&amp;gt;&lt;/span&gt;

&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;mutex&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;mtx&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;condition_variable&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="kt"&gt;bool&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ready&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;print_ready&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;unique_lock&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;mutex&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lck&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mtx&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;wait&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lck&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[]{&lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ready&lt;/span&gt;&lt;span class="p"&gt;;});&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;// é˜»å¡å½“å‰çº¿ç¨‹ï¼Œç›´åˆ°readyä¸ºtrue&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cout&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;ready!&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;set_ready&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;unique_lock&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;mutex&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lck&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mtx&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;ready&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;notify_one&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;// å”¤é†’ä¸€ä¸ªç­‰å¾…çš„çº¿ç¨‹&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="kr"&gt;thread&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;t1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;print_ready&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="kr"&gt;thread&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;t2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;set_ready&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;t1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;t2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;queue&amp;gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;chrono&amp;gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;mutex&amp;gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;thread&amp;gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;condition_variable&amp;gt;&lt;/span&gt;


&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;queue&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;produced_nums&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;mutex&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;mtx&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;condition_variable&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="kt"&gt;bool&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;notified&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;// é€šçŸ¥ä¿¡å·&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="c1"&gt;// ç”Ÿäº§è€…&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;auto&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;producer&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="p"&gt;]()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;this_thread&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;sleep_for&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;chrono&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;milliseconds&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;900&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;unique_lock&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;mutex&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lock&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mtx&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cout&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;producing &amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="n"&gt;produced_nums&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;push&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="n"&gt;notified&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;notify_all&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;// æ­¤å¤„ä¹Ÿå¯ä»¥ä½¿ç”¨ notify_one&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="c1"&gt;// æ¶ˆè´¹è€…&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;auto&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;consumer&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="p"&gt;]()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;while&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;true&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;unique_lock&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;mutex&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lock&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mtx&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="k"&gt;while&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="n"&gt;notified&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;// é¿å…è™šå‡å”¤é†’&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;wait&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lock&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="c1"&gt;// çŸ­æš‚å–æ¶ˆé”ï¼Œä½¿å¾—ç”Ÿäº§è€…æœ‰æœºä¼šåœ¨æ¶ˆè´¹è€…æ¶ˆè´¹ç©ºå‰ç»§ç»­ç”Ÿäº§&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="n"&gt;lock&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;unlock&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="c1"&gt;// æ¶ˆè´¹è€…æ…¢äºç”Ÿäº§è€…&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;this_thread&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;sleep_for&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;chrono&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;milliseconds&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="n"&gt;lock&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lock&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="k"&gt;while&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="n"&gt;produced_nums&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;empty&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cout&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;consuming &amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;produced_nums&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;front&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="n"&gt;produced_nums&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pop&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="n"&gt;notified&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="c1"&gt;// åˆ†åˆ«åœ¨ä¸åŒçš„çº¿ç¨‹ä¸­è¿è¡Œ&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="kr"&gt;thread&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;producer&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="kr"&gt;thread&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;cs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="n"&gt;cs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="kr"&gt;thread&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;consumer&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="n"&gt;cs&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;].&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;åŸå­æ“ä½œä¸å†…å­˜æ¨¡å‹&lt;/h3&gt;
&lt;p&gt;åœ¨ C++&amp;nbsp;ä¸­ï¼ŒåŸå­æ“ä½œæ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„æ“ä½œï¼Œå®ƒä»¬ä»¥ä¸å¯ä¸­æ–­çš„æ–¹å¼æ‰§è¡Œã€‚è¿™æ„å‘³ç€åŸå­æ“ä½œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸ä¼šè¢«å…¶ä»–çº¿ç¨‹å¹²æ‰°ã€‚å¦‚æœå¤šä¸ªçº¿ç¨‹åŒæ—¶å°è¯•æ‰§è¡ŒåŸå­æ“ä½œï¼ˆåœ¨åŒä¸€å¯¹è±¡ä¸Šï¼‰ï¼Œåˆ™åªæœ‰ä¸€ä¸ªçº¿ç¨‹ä¼šæˆåŠŸï¼Œå¹¶ä¸”ç»“æœæ˜¯ç¡®å®šçš„ã€‚è¿™ä½¿å¾—åŸå­æ“ä½œæˆä¸ºäº†çº¿ç¨‹åŒæ­¥å’Œæ•°æ®ä¸€è‡´æ€§çš„å…³é”®å·¥å…·ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†æ”¯æŒè¿™ç§è¡Œä¸ºï¼ŒC++11 æ ‡å‡†åº“å¼•å…¥äº† &lt;atomic&gt;&amp;nbsp;å¤´æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶æä¾›äº†ä¸€ç»„ç±»æ¨¡æ¿å’Œå‡½æ•°æ¨¡æ¿ï¼Œç”¨äºæ‰§è¡ŒåŸå­æ“ä½œã€‚è¿™äº›æ¨¡æ¿è¢«è®¾è®¡ä¸ºåœ¨åŸå§‹å†…å­˜ä¸Šæ‰§è¡Œä¸çº¿ç¨‹ç›¸å…³çš„åº•å±‚æ“ä½œã€‚åŸå­æ“ä½œåŒ…æ‹¬ï¼š&lt;/p&gt;
&lt;p&gt;Â· æ¯”è¾ƒå’Œäº¤æ¢ï¼ˆcompare-and-swapï¼‰
Â· å¢åŠ ï¼ˆfetch-and-addï¼‰
Â· å‡å°‘ï¼ˆfetch-and-subï¼‰
Â·&amp;nbsp;å­˜å‚¨å’ŒåŠ è½½ç­‰&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;atomic&amp;gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;

&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;atomic&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;counter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;increment&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="n"&gt;counter&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;increment&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;increment&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cout&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;counter&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="sc"&gt;&amp;#39;\n&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;// è¾“å‡º: 2&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ&lt;code&gt;counter&lt;/code&gt;æ˜¯ä¸€ä¸ªåŸå­æ•´æ•°ã€‚æ¯æ¬¡å½“&lt;code&gt;increment()&lt;/code&gt;å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œè®¡æ•°å™¨éƒ½ä¼šå¢åŠ &amp;nbsp;1ï¼Œä½†ä¸ç”¨æ‹…å¿ƒçº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚åªæœ‰ä¸€ä¸ªçº¿ç¨‹å¯ä»¥å¢åŠ è®¡æ•°å™¨ï¼Œå…¶ä»–çº¿ç¨‹ä¼šç­‰å¾…ï¼Œç›´åˆ°æ“ä½œå®Œæˆã€‚æœ€åï¼Œä¸»çº¿ç¨‹æ‰“å°è®¡æ•°å™¨çš„å€¼ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼Œåœ¨ä¸€äº›æƒ…å†µä¸‹ï¼ŒåŸå­æ“ä½œå¯èƒ½å¸¦æ¥ä¸€äº›æ€§èƒ½å¼€é”€ï¼Œè¿™æ˜¯å› ä¸ºä¸ºäº†ä¿è¯æ“ä½œçš„åŸå­æ€§ï¼Œå¯èƒ½éœ€è¦ç¡¬ä»¶å’Œ/æˆ–ç¼–è¯‘å™¨æä¾›é¢å¤–çš„æ”¯æŒã€‚æ‰€ä»¥ï¼Œå½“ä½¿ç”¨åŸå­æ“ä½œæ—¶ï¼Œåº”å°½é‡å‡å°‘å¹¶å‘å†²çªï¼Œåˆç†ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;h3&gt;å†…å­˜é¡ºåº&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å®½æ¾æ¨¡å‹ï¼šåœ¨æ­¤æ¨¡å‹ä¸‹ï¼Œå•ä¸ªçº¿ç¨‹å†…çš„åŸå­æ“ä½œéƒ½æ˜¯é¡ºåºæ‰§è¡Œçš„ï¼Œä¸å…è®¸æŒ‡ä»¤é‡æ’ï¼Œä½†ä¸åŒçº¿ç¨‹é—´åŸå­æ“ä½œçš„é¡ºåºæ˜¯ä»»æ„çš„ã€‚ç±»å‹é€šè¿‡ std::memory_order_relaxed&amp;nbsp;æŒ‡å®šã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;atomic&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;counter&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vector&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="kr"&gt;thread&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;vt&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;vt&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;emplace_back&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="p"&gt;](){&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="n"&gt;counter&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fetch_add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;memory_order_relaxed&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;});&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;auto&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;vt&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cout&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;current counter:&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;counter&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;é‡Šæ”¾/æ¶ˆè´¹æ¨¡å‹:
åœ¨C++çš„åŸå­æ“ä½œä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šçœ‹åˆ°&amp;#8221;memory_order&amp;#8221;çš„æ¦‚å¿µã€‚memory_orderç”¨äºæŒ‡å®šåŸå­æ“ä½œè¯»å–å’Œå†™å…¥çš„å†…å­˜é¡ºåºã€‚å…¶ä¸­ï¼Œ&lt;code&gt;memory_order_consume&lt;/code&gt;æ˜¯å…¶ä¸­ä¸€ç§ç±»å‹ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;memory_order_consume&lt;/code&gt;æ˜¯ä¸€ç§æ›´ä¸ºæ¾æ•£çš„å†…å­˜é¡ºåºï¼Œå®ƒåªä¿è¯å¯¹ä¾èµ–äºåŸå­å˜é‡açš„æ™®é€šéåŸå­æ“ä½œbçš„é¡ºåºï¼šå¦‚æœbä¾èµ–äºaï¼Œé‚£ä¹ˆåœ¨aåé¢å‡ºç°çš„bæ“ä½œï¼Œä¸ä¼šè¢«é‡æ’åˆ°aä¹‹å‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæœ‰ä¸¤ä¸ªæ“ä½œAå’ŒBï¼Œå…¶ä¸­Bä¾èµ–äºAçš„ç»“æœï¼Œé‚£ä¹ˆBä¸èƒ½åœ¨Aä¹‹å‰æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œä»C++17èµ·ï¼Œå‡ºäºå¤æ‚æ€§å’Œå¯ç§»æ¤æ€§è€ƒè™‘ï¼Œ&lt;code&gt;memory_order_consume&lt;/code&gt;å·²è¢«å‡ ä¹æ‰€æœ‰çš„ç¼–è¯‘å™¨å®ç°é™çº§ä¸º&lt;code&gt;memory_order_acquire&lt;/code&gt;ï¼Œæ¢å¤åˆ°äº†ä¸¥æ ¼çš„å†…å­˜é¡ºåºã€‚&lt;/p&gt;
&lt;p&gt;åœ¨C++ä¸­ï¼Œä¸å»ºè®®ç›´æ¥ä½¿ç”¨&lt;code&gt;memory_order_consume&lt;/code&gt;ï¼Œæ¨èä½¿ç”¨&lt;code&gt;memory_order_acquire&lt;/code&gt;å’Œ&lt;code&gt;memory_order_release&lt;/code&gt;æ¥å¯¹åŸå­å˜é‡è¿›è¡Œæ›´ä¸¥æ ¼çš„åŒæ­¥ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é‡Šæ”¾/è·å–æ¨¡å‹ï¼šåœ¨æ­¤æ¨¡å‹ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥åŠ ç´§å¯¹ä¸åŒçº¿ç¨‹é—´åŸå­æ“ä½œçš„é¡ºåºçš„é™åˆ¶ï¼Œåœ¨é‡Šæ”¾ &lt;code&gt;std::memory_order_release&lt;/code&gt;å’Œè·å–&lt;code&gt;std::memory_order_acquire&lt;/code&gt;ä¹‹é—´è§„å®šæ—¶åºï¼Œå³å‘ç”Ÿåœ¨é‡Šæ”¾ï¼ˆ&lt;code&gt;release&lt;/code&gt;ï¼‰æ“ä½œä¹‹å‰çš„æ‰€æœ‰å†™æ“ä½œï¼Œå¯¹å…¶ä»–çº¿ç¨‹çš„ä»»ä½•è·å–ï¼ˆ&lt;code&gt;acquire&lt;/code&gt;ï¼‰æ“ä½œéƒ½æ˜¯å¯è§çš„ï¼Œäº¦å³å‘ç”Ÿé¡ºåºï¼ˆ&lt;code&gt;happens-before&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;memory_order_acquire&lt;/code&gt;æ˜¯ä¸€ç§é˜²æ­¢&amp;#8221;è¯»&amp;#8221;æ“ä½œçš„é‡æ’ã€‚å®ƒå¸¸å¸¸è¢«ç”¨åœ¨æ¶ˆè´¹è€…çº¿ç¨‹ä¸­ï¼Œç”¨æ¥è¯»å–ç”Ÿäº§è€…çº¿ç¨‹ä¸­åŸå­å˜é‡çš„æœ€æ–°å€¼ï¼Œå¹¶ç¡®ä¿åœ¨è¿™ä¹‹åçš„æ‰€æœ‰æ“ä½œéƒ½èƒ½çœ‹åˆ°æœ€æ–°çš„å€¼ã€‚&lt;/p&gt;
&lt;p&gt;è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç®€å•çš„ä¾‹å­è¯¦ç»†è§£é‡Šä¸‹ï¼š&amp;nbsp;å‡è®¾æˆ‘ä»¬åœ¨åšä¸€ä¸ªç®€å•çš„é‚®ä»¶ä¼ é€’çš„ç³»ç»Ÿã€‚æˆ‘ä»¬æœ‰ä¸€ä¸ªå¤„ç†æ•°æ®ï¼ˆ&amp;#8221;é‚®ä»¶&amp;#8221;ï¼‰çš„ç”Ÿäº§è€…çº¿ç¨‹å’Œä¸€ä¸ªæ¶ˆè´¹è€…çº¿ç¨‹ï¼Œç”Ÿäº§è€…åœ¨æ•°æ®å®Œæˆåè§¦å‘ä¿¡å·ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;atomic&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;bool&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;data_ready&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;// åŸå­å˜é‡ä½œä¸ºè§¦å‘ä¿¡å·&lt;/span&gt;
&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;// æ•°æ®ï¼ˆæœ¬ä¾‹ä¸­çš„&amp;quot;é‚®ä»¶&amp;quot;ï¼‰&lt;/span&gt;

&lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;produce_data&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Hello World!&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;// å¡«å†™é‚®ä»¶&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;data_ready&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;store&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;true&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;memory_order_release&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;// è§¦å‘ä¿¡å·ï¼Œé‚®ä»¶å·²ç»å‡†å¤‡å¥½&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;consume_data&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;while&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="n"&gt;data_ready&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;load&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;memory_order_acquire&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;// ç­‰å¾…é‚®ä»¶&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="c1"&gt;// è¿™æ—¶ï¼Œæˆ‘ä»¬ç¡®ä¿¡ dataï¼ˆé‚®ä»¶ï¼‰ç°åœ¨å·²ç»å‡†å¤‡å¥½äº†&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cout&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Got mail: &amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="c1"&gt;//data_ready.store(false, std::memory_order_release); // é‡ç½®æ¡ä»¶&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;åœ¨è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œç”Ÿäº§è€…çº¿ç¨‹è°ƒç”¨&lt;code&gt;produce_data&lt;/code&gt;å‡½æ•°ï¼Œå¡«å†™æ•°æ®ï¼Œå¹¶åœ¨å®Œæˆåè®¾ç½®&lt;code&gt;data_ready&lt;/code&gt;æ ‡è¯†ä¸º&lt;code&gt;true&lt;/code&gt;ã€‚æ¶ˆè´¹è€…çº¿ç¨‹åœ¨&lt;code&gt;consume_data&lt;/code&gt;å‡½æ•°ä¸­æŒç»­ç­‰å¾…ï¼Œç›´åˆ°&lt;code&gt;data_ready&lt;/code&gt;ä¸º&lt;code&gt;true&lt;/code&gt;ã€‚ ç›´åˆ°æ¶ˆè´¹è€…çœ‹åˆ°&lt;code&gt;data_ready&lt;/code&gt;ä¸º&lt;code&gt;true&lt;/code&gt;ï¼Œå®ƒå°†å¼€å§‹å¤„ç†æ•°æ®ï¼Œç„¶åå¯èƒ½å°†ä¿¡å·é‡ç½®ä¸º&lt;code&gt;false&lt;/code&gt;ä»¥ç­‰å¾…ä¸‹ä¸€ä¸ªä¿¡å·ã€‚
&lt;code&gt;memory_order_acquire&lt;/code&gt; ç¡®ä¿äº†ï¼šä¸€æ—¦æ¶ˆè´¹è€…çº¿ç¨‹çœ‹åˆ° &lt;code&gt;data_ready&lt;/code&gt; ä¸º &lt;code&gt;true&lt;/code&gt;ï¼Œé‚£ä¹ˆ &lt;code&gt;data&lt;/code&gt; çš„å€¼å¿…å®šæ˜¯ &lt;code&gt;"Hello World!"&lt;/code&gt;ï¼Œå³ä½¿è¿™ä¸¤ä¸ªæ“ä½œåœ¨ä¸åŒçš„çº¿ç¨‹ä¸­è¿›è¡Œã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;// a kind of fix-num thread pool&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;vector&amp;gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;queue&amp;gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;thread&amp;gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;future&amp;gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;functional&amp;gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;utility&amp;gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;

&lt;span class="cm"&gt;/*&lt;/span&gt;
&lt;span class="cm"&gt;ThreadPool p(4); // æŒ‡å®šå››ä¸ªå·¥ä½œçº¿ç¨‹&lt;/span&gt;

&lt;span class="cm"&gt;// å°†ä»»åŠ¡åœ¨æ± ä¸­å…¥é˜Ÿï¼Œå¹¶è¿”å›ä¸€ä¸ª std::future&lt;/span&gt;
&lt;span class="cm"&gt;auto f = pool.enqueue([](int life) {&lt;/span&gt;
&lt;span class="cm"&gt;    return meaning;&lt;/span&gt;
&lt;span class="cm"&gt;}, 42);&lt;/span&gt;

&lt;span class="cm"&gt;// ä» future ä¸­è·å¾—æ‰§è¡Œç»“æœ&lt;/span&gt;
&lt;span class="cm"&gt;std::cout &amp;lt;&amp;lt; f.get() &amp;lt;&amp;lt; std::endl;&lt;/span&gt;

&lt;span class="cm"&gt;*/&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nc"&gt;ThreadPool&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;ThreadPool&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;num_threads&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;size_t&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;num_threads&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;threads&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;emplace_back&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;                    &lt;/span&gt;&lt;span class="k"&gt;while&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;true&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;                        &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;function&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;                        &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;                            &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;unique_lock&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;mutex&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lock&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;mtx&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;                            &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;wait&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lock&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="p"&gt;]{&lt;/span&gt;
&lt;span class="w"&gt;                                &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;stop&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;||&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;empty&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt;                            &lt;/span&gt;&lt;span class="p"&gt;});&lt;/span&gt;

&lt;span class="w"&gt;                            &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;stop&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;empty&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="w"&gt;                                &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="w"&gt;                            &lt;/span&gt;&lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;move&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;front&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
&lt;span class="w"&gt;                            &lt;/span&gt;&lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pop&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt;                        &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;                        &lt;/span&gt;&lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt;                    &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;    &lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;template&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nc"&gt;F&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt;&lt;span class="p"&gt;...&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Args&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;auto&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;enqueue&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;F&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Args&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;...&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;future&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="k"&gt;typename&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nc"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;result_of&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;F&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Args&lt;/span&gt;&lt;span class="p"&gt;...)&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;::&lt;/span&gt;&lt;span class="n"&gt;type&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;using&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;return_type&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;typename&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nc"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;result_of&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;F&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Args&lt;/span&gt;&lt;span class="p"&gt;...)&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;::&lt;/span&gt;&lt;span class="n"&gt;type&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;auto&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;make_shared&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;packaged_task&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;return_type&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;bind&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;forward&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;F&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;forward&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Args&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;)...));&lt;/span&gt;

&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;future&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;return_type&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;res&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;get_future&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;unique_lock&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;mutex&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lock&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mtx&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;stop&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="k"&gt;throw&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;runtime_error&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;enqueue on stopped ThreadPool&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="n"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;emplace&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="p"&gt;]{&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="p"&gt;)();&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;});&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;notify_one&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;res&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;ThreadPool&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;unique_lock&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;mutex&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lock&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mtx&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="n"&gt;stop&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;notify_all&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="kr"&gt;thread&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;worker&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;threads&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="n"&gt;worker&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="k"&gt;private&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;vector&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="kr"&gt;thread&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;threads&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;queue&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;function&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;mutex&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;mtx&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;condition_variable&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;cv&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="kt"&gt;bool&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;stop&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;


&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="n"&gt;ThreadPool&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;pool&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;// åˆ›å»ºä¸€ä¸ªåŒ…å«å››ä¸ªçº¿ç¨‹çš„çº¿ç¨‹æ± &lt;/span&gt;

&lt;span class="c1"&gt;// åˆ›å»ºä¸€ä¸ªä»»åŠ¡&lt;/span&gt;
&lt;span class="k"&gt;auto&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[](&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;this_thread&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;sleep_for&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;chrono&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;seconds&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;// æ¨¡æ‹Ÿè€—æ—¶æ“ä½œ&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;

&lt;span class="c1"&gt;// å°†ä»»åŠ¡åŠ å…¥åˆ°çº¿ç¨‹æ± ï¼Œå¹¶è·å–ä¸€ä¸ª future æ¥è·å–ç»“æœ&lt;/span&gt;
&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;future&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;pool&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;enqueue&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="c1"&gt;// è·å–ä»»åŠ¡çš„ç»“æœ&lt;/span&gt;
&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cout&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="c1"&gt;// è¾“å‡º 100&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ›´å¤šçš„ç»ƒä¹ :&lt;/p&gt;
&lt;p&gt;ç»ƒä¹ 1ï¼šæ·»åŠ ä¸€ä¸ªå°†çº¿ç¨‹æ± çš„å¤§å°åŠ¨æ€è°ƒæ•´çš„å‡½æ•°åˆ°ä¸Šè¿°çº¿ç¨‹æ± ç±»ã€‚è¿™ä¸ªå‡½æ•°åº”è¯¥å¯ä»¥å¢åŠ æˆ–å‡å°‘çº¿ç¨‹æ± ä¸­çº¿ç¨‹çš„æ•°é‡ï¼Œä½†è¯·æ³¨æ„åœ¨å‡å°‘çº¿ç¨‹æ•°é‡æ—¶ï¼Œä½ å¯èƒ½éœ€è¦æ€è€ƒä¸€ä¸‹å¦‚ä½•å¤„ç†æ­£åœ¨æ‰§è¡Œä»»åŠ¡çš„çº¿ç¨‹ã€‚
ç»ƒä¹ 2ï¼šæ·»åŠ ä¸€ä¸ªå–æ¶ˆç‰¹å®šä»»åŠ¡çš„åŠŸèƒ½åˆ°ä½ çš„çº¿ç¨‹æ± ç±»ã€‚ä½ å¯èƒ½éœ€è¦ç»™æ¯ä¸ªä»»åŠ¡ä¸€ä¸ªå”¯ä¸€çš„IDï¼Œç„¶åæä¾›ä¸€ä¸ªä½¿ç”¨è¿™ä¸ªIDæ¥å–æ¶ˆä»»åŠ¡çš„åŠŸèƒ½ã€‚
ç»ƒä¹ 3ï¼šåœ¨ä½ çš„çº¿ç¨‹æ± ä¸­å®ç°ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œè€Œä¸æ˜¯æ ‡å‡†é˜Ÿåˆ—ï¼Œä»¥å…è®¸æŸäº›ä»»åŠ¡æ¯”å…¶ä»–ä»»åŠ¡æœ‰æ›´é«˜çš„æ‰§è¡Œä¼˜å…ˆçº§ã€‚ä½ å¯èƒ½éœ€è¦ä½¿ç”¨ä¸€ä¸ªä»¥priority_queueæ¥æ›¿ä»£ç°æœ‰çš„ä»»åŠ¡é˜Ÿåˆ—ã€‚
ç»ƒä¹ 4ï¼šæ·»åŠ é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œç¡®ä¿å½“ä¸€ä¸ªä»»åŠ¡æŠ›å‡ºäº†ä¸€ä¸ªæœªæ•è·çš„å¼‚å¸¸æ—¶ï¼Œçº¿ç¨‹æ± å¯ä»¥æ­£å¸¸å·¥ä½œã€‚&amp;nbsp;ç»ƒä¹ 5ï¼šæ·»åŠ å¯¹è¿”å›ç»“æœçš„æ”¯æŒï¼Œå¦‚æ”¯æŒä»»åŠ¡è¿”å›ä¸€ä¸ªè‡ªå®šä¹‰çš„ç±»æˆ–è€…ç»“æ„ã€‚&lt;/p&gt;
&lt;p&gt;Reference:
1.&amp;nbsp;(ç°ä»£C++æ•™ç¨‹)[https://changkun.de/modern-cpp/zh-cn/07-thread/#7-3-%E6%9C%9F%E7%89%A9]&lt;/p&gt;</content><category term="programming"></category><category term="programing"></category></entry><entry><title>C++å¹¶å‘ç¼–ç¨‹(III)</title><link href="/cbing-fa-bian-cheng-iii.html" rel="alternate"></link><published>2021-02-21T10:00:00+08:00</published><updated>2021-02-21T10:00:00+08:00</updated><author><name>sjtuzbx</name></author><id>tag:None,2021-02-21:/cbing-fa-bian-cheng-iii.html</id><summary type="html">&lt;p&gt;ä»€ä¹ˆæ˜¯std::async/std::future/std::promise/std::packaged_task&lt;/p&gt;</summary><content type="html">&lt;p&gt;æˆ‘ä»¬çŸ¥é“&lt;code&gt;std::thread&lt;/code&gt;ä¼šåˆ›æ–°ä¸€ä¸ªæ–°è¿›ç¨‹å¹¶æ‰§è¡Œä¼ å…¥çš„å‡½æ•°ã€‚ä½†æ˜¯&lt;code&gt;std::thread&lt;/code&gt;æ²¡æœ‰æä¾›ä»çº¿ç¨‹å‡½æ•°ä¸­è·å–è¿”å›å€¼çš„&lt;strong&gt;ç›´æ¥æ–¹å¼&lt;/strong&gt;ã€‚å¦‚æœé€šè¿‡&lt;strong&gt;ä¼ å‚&lt;/strong&gt;çš„æ–¹å¼è·å–çº¿ç¨‹çš„è¿”å›å€¼,
è¿™åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸­å¯èƒ½ä¼šå‡ºç°æ•°æ®ç«äº‰çš„é—®é¢˜ï¼Œéœ€è¦åˆç†ä½¿ç”¨äº’æ–¥é”æˆ–å…¶ä»–åŒæ­¥æ‰‹æ®µé˜²æ­¢è¿™ç§æƒ…å†µã€‚å› æ­¤c++æä¾›äº†&lt;code&gt;std::async&lt;/code&gt;å’Œ&lt;code&gt;std::future&lt;/code&gt;æ¥ç®€åŒ–è¿™ç§é—®é¢˜ã€‚&lt;/p&gt;
&lt;h3&gt;std::asyncå’Œstd::future&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;std::async&lt;/code&gt;æ˜¯C++11æ ‡å‡†åº“ä¸­ç”¨äºå¤„ç†å¼‚æ­¥ä»»åŠ¡çš„å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°çš„ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†ç®€åŒ–å¹¶å‘å¹¶å°½å¯èƒ½åœ°è®©å¹¶å‘å˜å¾—æ˜“äºä½¿ç”¨ã€‚å…·ä½“æ¥è¯´ï¼Œ&lt;code&gt;std::async&lt;/code&gt;å‡½æ•°å…è®¸æˆ‘ä»¬åœ¨ç‹¬ç«‹çš„çº¿ç¨‹ä¸Šå¼‚æ­¥åœ°æ‰§è¡Œå‡½æ•°æˆ–å¯è°ƒç”¨å¯¹è±¡ï¼Œå¹¶è¿”å›ä¸€ä¸ª&lt;code&gt;std::future&lt;/code&gt;å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªå¯¹è±¡è·å–è¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä»€ä¹ˆæ˜¯&lt;code&gt;std::future&lt;/code&gt;å¯¹è±¡å‘¢? åœ¨C++ä¸­ï¼Œ&lt;code&gt;std::future&lt;/code&gt;æ˜¯ä¸€ä¸ªæ¨¡æ¿ç±»ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„ç»“æœã€‚ä½ å¯ä»¥ä½¿ç”¨ std::future&amp;nbsp;æ¥è·å–åœ¨å¦ä¸€ä¸ªçº¿ç¨‹æˆ–å¼‚æ­¥ä»»åŠ¡ä¸­è®¡ç®—çš„å€¼ï¼Œè€Œä¸”æ²¡æœ‰å¿…è¦ç«‹å³è·å–è¿™ä¸ªå€¼ï¼Œä½ å¯ä»¥åœ¨ç¨åçš„æŸä¸ªæ—¶åˆ»è·å–ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;future&amp;gt;&lt;/span&gt;

&lt;span class="c1"&gt;// ç§»åŠ¨ä¸€ä¸ªå‡½æ•°çš„æ‰§è¡Œåˆ°ä¸€ä¸ªå•ç‹¬çš„çº¿ç¨‹ï¼Œå¹¶è·å–å®ƒçš„è¿”å›å€¼&lt;/span&gt;
&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;compute&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="c1"&gt;// åˆ›å»ºä¸€ä¸ªå¼‚æ­¥ä»»åŠ¡&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;future&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;async&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;compute&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="c1"&gt;// åœ¨è¿™é‡Œå¯ä»¥åšå…¶ä»–çš„äº‹æƒ…...&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="c1"&gt;// ä»å¼‚æ­¥ä»»åŠ¡è·å–è¿”å›å€¼&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;auto&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;computed_value&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cout&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Computed value: &amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;computed_value&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ¯”å¦‚æˆ‘ä»¬å°±ä½¿ç”¨&lt;code&gt;std::async&lt;/code&gt;å¯åŠ¨å¦ä¸€ä¸ªçº¿ç¨‹å¼‚æ­¥æ‰§è¡Œ&lt;code&gt;compute&lt;/code&gt;å‡½æ•°ï¼Œç„¶åè°ƒç”¨&lt;code&gt;get()&lt;/code&gt;æˆå‘˜å‡½æ•°è·å–è®¡ç®—çš„ç»“æœï¼Œå¦‚æœè®¡ç®—æ²¡æœ‰å®Œæˆï¼Œç¨‹åºä¼šåœ¨æ­¤ç­‰å¾…ç›´åˆ°è·å–ç»“æœã€‚&lt;/p&gt;
&lt;h3&gt;std::promiseå¯¹è±¡&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;std::promise&lt;/code&gt;æ˜¯C++æ ‡å‡†åº“ä¸­ä¸€ä¸ªç”¨äºå¼‚æ­¥ç¼–ç¨‹çš„æ¨¡æ¿ç±»ï¼Œå®ƒå¯ä»¥å¾ˆæ–¹ä¾¿åœ°åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­å­˜å‚¨ä¸€ä¸ªå€¼æˆ–å¼‚å¸¸ï¼Œå¹¶èƒ½è®©å¦ä¸€ä¸ªçº¿ç¨‹è®¿é—®è¿™ä¸ªå€¼æˆ–å¼‚å¸¸ã€‚ ç®€å•æ¥è¯´ï¼Œä½ å¯ä»¥æŠŠ&lt;code&gt;std::promise&lt;/code&gt;æƒ³è±¡æˆä¸€ä¸ªç”¨äºå¼‚æ­¥æ“ä½œçš„ç®¡é“çš„ä¸€ç«¯ï¼Œè€Œè¿™ä¸ªç®¡é“çš„å¦ä¸€ç«¯åˆ™æ˜¯&lt;code&gt;std::future&lt;/code&gt;å¯¹è±¡ã€‚
ä¸€ä¸ª&lt;code&gt;std::promise&lt;/code&gt;å¯¹è±¡åŒ…å«ä¸€ä¸ªå…±äº«çš„å…±äº«çŠ¶æ€ï¼Œè¿™ä¸ªçŠ¶æ€å¯ä»¥åŒ…å«ä¸€ä¸ªå€¼æˆ–ä¸€ä¸ªå¼‚å¸¸ã€‚ å¯ä»¥é€šè¿‡è°ƒç”¨&lt;code&gt;std::promise::set_value&lt;/code&gt;æˆ–è€…&lt;code&gt;std::promise::set_exception&lt;/code&gt;æ–¹æ³•æ¥è®¾ç½®è¿™ä¸ªå…±äº«çŠ¶æ€ã€‚è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½ä¼šå°†å…±äº«çŠ¶æ€æ ‡è®°ä¸º&lt;code&gt;ready&lt;/code&gt;ï¼ŒåŒæ—¶é€šçŸ¥ä»»ä½•ç­‰å¾…è¿™ä¸ª&lt;code&gt;std::promise&lt;/code&gt;å¯¹è±¡çš„&lt;code&gt;std::future&lt;/code&gt;å¯¹è±¡ã€‚
ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨&lt;code&gt;std::promise&lt;/code&gt;å¯¹è±¡æ¥ä¼ é€’ä¸€ä¸ªè®¡ç®—ç»“æœä»ä¸€ä¸ªçº¿ç¨‹åˆ°å¦ä¸€ä¸ªçº¿ç¨‹ï¼š&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;thread&amp;gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;future&amp;gt;&lt;/span&gt;

&lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;calculate&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;promise&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;intPromise&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;// åšä¸€äº›è®¡ç®—&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;intPromise&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_value&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;// å°†ç»“æœè®¾ç½®åˆ°promiseå¯¹è±¡ä¸­&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="c1"&gt;// åˆ›å»ºä¸€ä¸ªstd::promiseå¯¹è±¡&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;promise&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;prom&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="c1"&gt;// è·å–ä¸promiseç›¸å…³è”çš„futureå¯¹è±¡&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;future&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;fut&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;prom&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_future&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="c1"&gt;// å¯åŠ¨ä¸€ä¸ªæ–°çº¿ç¨‹ï¼Œå¹¶å°†promiseç§»åŠ¨åˆ°æ–°çº¿ç¨‹ä¸­&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="kr"&gt;thread&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;calculate&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;move&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;prom&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="c1"&gt;// è·å–è®¡ç®—ç»“æœ&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cout&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;The result is &amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;fut&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="c1"&gt;// ç­‰å¾…çº¿ç¨‹å®Œæˆ&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;std::packaged_taskå¯¹è±¡&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;std::packaged_task&lt;/code&gt;æ˜¯ä¸€ä¸ªç±»æ¨¡æ¿ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯è°ƒç”¨å¯¹è±¡åŒ…è£…å™¨ï¼Œç”¨æ¥å°è£…ç±»ä¼¼å‡½æ•°çš„å¯è°ƒç”¨ç›®æ ‡ï¼ˆåŒ…æ‹¬å‡½æ•°ã€&lt;code&gt;Lambda&lt;/code&gt;è¡¨è¾¾å¼ç­‰ï¼‰ï¼Œå¹¶ä¸”å®ƒå¯ä»¥æœ‰è¿”å›å€¼ã€‚å½“ä½ è°ƒç”¨&lt;code&gt;std::packaged_task&lt;/code&gt;å¯¹è±¡æ—¶ï¼Œå®ƒä¼šè°ƒç”¨è¢«åŒ…è£…çš„å‡½æ•°ï¼Œå¹¶å­˜å‚¨è¯¥å‡½æ•°çš„è¿”å›å€¼æˆ–æ•è·åˆ°çš„å¼‚å¸¸ã€‚ä½ å¯ä»¥é€šè¿‡ä¸€ä¸ª&lt;code&gt;std::future&lt;/code&gt;å¯¹è±¡è·å–è¿™ä¸ªç»“æœï¼Œæˆ–ç­‰å¾…å®ƒè¢«è®¡ç®—å‡ºæ¥ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;future&amp;gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;thread&amp;gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;chrono&amp;gt;&lt;/span&gt;


&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;using&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;namespace&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nn"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="nn"&gt;chrono_literals&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="c1"&gt;// å°†ä¸€ä¸ªè¿”å›å€¼ä¸º7çš„ lambda è¡¨è¾¾å¼å°è£…åˆ° task ä¸­&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="c1"&gt;// std::packaged_task çš„æ¨¡æ¿å‚æ•°ä¸ºè¦å°è£…å‡½æ•°çš„ç±»å‹&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;packaged_task&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="p"&gt;([](){&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;auto&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;chrono&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;high_resolution_clock&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;now&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;this_thread&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;sleep_for&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2000&lt;/span&gt;&lt;span class="n"&gt;ms&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;const&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;auto&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;end&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;chrono&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;high_resolution_clock&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;now&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;auto&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;elapsed&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;end&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;start&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cout&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Waited &amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;elapsed&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;count&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mf"&gt;1e6&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;ms &lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;});&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;future&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_future&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;// è·å¾— task çš„æœŸç‰©&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="kr"&gt;thread&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;move&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="p"&gt;)).&lt;/span&gt;&lt;span class="n"&gt;detach&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;// åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­æ‰§è¡Œ task&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cout&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;waiting...&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;wait&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;// åœ¨æ­¤è®¾ç½®å±éšœï¼Œé˜»å¡åˆ°æœŸç‰©çš„å®Œæˆ&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="c1"&gt;// è¾“å‡ºæ‰§è¡Œç»“æœ&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cout&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;done!&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;future result is &amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;              &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Reference:
1.&amp;nbsp;(ç°ä»£C++æ•™ç¨‹)[https://changkun.de/modern-cpp/zh-cn/07-thread/#7-3-%E6%9C%9F%E7%89%A9]&lt;/p&gt;</content><category term="programming"></category><category term="programing"></category></entry><entry><title>C++å¹¶å‘ç¼–ç¨‹(II)</title><link href="/cbing-fa-bian-cheng-ii.html" rel="alternate"></link><published>2021-02-14T09:00:00+08:00</published><updated>2021-02-14T09:00:00+08:00</updated><author><name>sjtuzbx</name></author><id>tag:None,2021-02-14:/cbing-fa-bian-cheng-ii.html</id><summary type="html">&lt;p&gt;C++ threading,&amp;nbsp;äº’æ–¥é‡ï¼Œè‡ªæ—‹é”&lt;/p&gt;</summary><content type="html">&lt;h3&gt;C++&amp;nbsp;threading&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥ä½¿ç”¨&lt;code&gt;std::thread&lt;/code&gt;æ¥åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œä½¿ç”¨&lt;code&gt;join()&lt;/code&gt;æ¥ç­‰å¾…ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œç»“æŸã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;thread&amp;gt;&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="kr"&gt;thread&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;([](){&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cout&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;&amp;quot;hello world.&amp;quot;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;});&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;äº’æ–¥é‡å’Œè‡ªæ—‹é”&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥é€šè¿‡&lt;code&gt;std::mutex&lt;/code&gt;æ¥åˆ›å»ºä¸€ä¸ªäº’æ–¥é‡ï¼Œå¹¶ä½¿ç”¨&lt;code&gt;lock()&lt;/code&gt;ä¸Šé”ï¼Œ&lt;code&gt;unlock()&lt;/code&gt;è¿›è¡Œè§£é”ã€‚ä½†æ˜¯åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¸ç›´æ¥è°ƒç”¨å…¶æˆå‘˜å‡½æ•°ï¼Œè€Œæ˜¯ä½¿ç”¨&lt;code&gt;RAII&lt;/code&gt;è¯­æ³•çš„æ¨¡æ¿ç±»&lt;code&gt;std::lock_guard&lt;/code&gt;ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯æˆ‘ä»¬ä¸éœ€è¦å†æ‰‹åŠ¨è°ƒç”¨æˆå‘˜å‡½æ•°ï¼Œå¹¶ä¸”ä¸ç”¨æ‹…å¿ƒå¼‚å¸¸å¤„ç†å’Œèµ„æºé‡Šæ”¾çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;mutex&amp;gt;&lt;/span&gt;
&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;thread&amp;gt;&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;critical_section&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;change_v&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;static&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;mutex&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;mtx&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;lock_guard&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;mutex&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lock&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mtx&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;// ä¸ç”¨å†æ‰‹åŠ¨é‡Šæ”¾èµ„æº&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="c1"&gt;// æ‰§è¡Œç«äº‰æ“ä½œ&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;change_v&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="c1"&gt;// ç¦»å¼€æ­¤ä½œç”¨åŸŸå mtx ä¼šè¢«é‡Šæ”¾&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="kr"&gt;thread&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;t1&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;critical_section&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;t2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;critical_section&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;t1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;t2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;cout&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;endl&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;// print 2 or 3&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;std::mutex&lt;/code&gt;æ˜¯ä¸€ç§&lt;strong&gt;é˜»å¡é”&lt;/strong&gt;ï¼Œå½“çº¿ç¨‹åœ¨ç­‰å¾…äº’æ–¥é‡çš„é‡Šæ”¾æ—¶ï¼Œçº¿ç¨‹ä¼šè¢«æŒ‚èµ·ï¼Œè€Œä¸å†æ¶ˆè€—cpuæ—¶é—´ã€‚å½“å…¶ä»–çº¿ç¨‹é‡Šæ”¾äº’æ–¥é‡åï¼Œæ“ä½œç³»ç»Ÿä¼šå”¤é†’è¢«æŒ‚èµ·çš„çº¿ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨è€ƒè™‘é«˜æ€§èƒ½ç¼–ç¨‹æ—¶ï¼Œçº¿ç¨‹çš„æŒ‚èµ·å’Œè¢«å”¤é†’æ˜¯å¾ˆæ¶ˆè€—æ—¶é—´çš„ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘&lt;strong&gt;è‡ªæ—‹é”&lt;/strong&gt;çš„å½¢å¼æ¥æå‡æ•ˆç‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è‡ªæ—‹é”&lt;/strong&gt;ä¸&lt;code&gt;std::mutex&lt;/code&gt;çš„åŒºåˆ«æ˜¯ï¼Œè‡ªæ—‹é”æ˜¯ä¸€ç§æ— é˜»å¡é”ã€‚å³å½“çº¿ç¨‹åœ¨ç­‰å¾…è‡ªæ—‹é”æ—¶ï¼Œä¸ä¼šè¢«æŒ‚èµ·è€Œæ˜¯ä¸€ç›´æ¶ˆè€—cpuæ—¶é—´ï¼Œä¸åœå°è¯•è·å–è‡ªæ—‹é”ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ç§å¯èƒ½çš„å®ç°æ˜¯è¿™æ ·çš„ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©&lt;code&gt;std::atomic_flag&lt;/code&gt;è¿™ä¸ªåŸå­æ“ä½œç±»å‹æ¥å®ç°&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="cp"&gt;#include&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="cpf"&gt;&amp;lt;atomic&amp;gt;&lt;/span&gt;

&lt;span class="k"&gt;struct&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nc"&gt;spin_lock&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;spin_lock&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;atomic_flag&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;flag&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;flag_&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;flag&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;while&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;flag_&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;test_and_set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;memory_order_acquire&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c1"&gt;// loop until return false&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="n"&gt;spin_lock&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;flag_&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;clear&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;memory_order_release&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="k"&gt;private&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;atomic_flag&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;flag_&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;ATOMIC_FLAG_INIT&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ©ç”¨&lt;code&gt;gcc&lt;/code&gt;æä¾›çš„&lt;code&gt;__sync_bool_compare_and_swap&lt;/code&gt;æ¥å®ç°è‡ªæ—‹é”&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;class&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nc"&gt;spinlock&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="k"&gt;private&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;volatile&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;bool&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lock_&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;public&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;lock&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;while&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="n"&gt;__sync_bool_compare_and_swap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;lock_&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;true&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="c1"&gt;// æ‰§è¡Œé™¤è·å–é”ä»¥å¤–çš„ç­–ç•¥ï¼Œå¦‚æš‚æ—¶è®©å‡ºCPUç­‰å¾…æˆ–ç©ºè½¬&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="kt"&gt;void&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;unlock&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="n"&gt;__sync_bool_compare_and_swap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;lock_&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;true&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nb"&gt;false&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¿™é‡Œçš„&lt;code&gt;__sync_bool_compare_and_swap&lt;/code&gt;çš„å·¥ä½œæ–¹å¼æ˜¯æ¯”è¾ƒ&lt;code&gt;lock_&lt;/code&gt;å’Œ&lt;code&gt;false&lt;/code&gt;ï¼Œå¦‚æœäºŒè€…ç›¸ç­‰ï¼Œå°±è®©&lt;code&gt;lock_&lt;/code&gt;ç­‰äº&lt;code&gt;true&lt;/code&gt;ï¼Œå¹¶è¿”å›&lt;code&gt;true&lt;/code&gt;ã€‚å¦‚æœ&lt;code&gt;lock_&lt;/code&gt;å’Œ&lt;code&gt;false&lt;/code&gt;ä¸ç›¸ç­‰ï¼Œå°±ä¸æ”¹å˜&lt;code&gt;lock_&lt;/code&gt;çš„å€¼ï¼Œå¹¶è¿”å›&lt;code&gt;false&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;æ­¤å¤–ï¼Œè¿™é‡Œ&lt;code&gt;lock_&lt;/code&gt;å˜é‡ä½¿ç”¨&lt;code&gt;volatile&lt;/code&gt;ä¿®é¥°ã€‚&lt;code&gt;volatile&lt;/code&gt;æ˜¯C++çš„ä¸€ä¸ªç±»å‹ä¿®é¥°ç¬¦ï¼Œç”¨äºå‘Šè¯‰ç¼–è¯‘å™¨ï¼Œå£°æ˜ä¸º volatile&amp;nbsp;çš„å˜é‡å¯èƒ½åœ¨ç¼–è¯‘å™¨çœ‹ä¸è§çš„åœ°æ–¹è¢«ä¿®æ”¹ï¼Œæ¯”å¦‚åœ¨ç¨‹åºä¹‹å¤–è¢«ç¡¬ä»¶ä¿®æ”¹æˆ–è€…åœ¨å…¶ä»–çº¿ç¨‹ä¸­è¢«ä¿®æ”¹ã€‚å…¶ä¸»è¦çš„ä¸¤ä¸ªä½œç”¨æ˜¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;é˜²æ­¢ä¼˜åŒ–å™¨ä¼˜åŒ–ï¼šç¼–è¯‘å™¨åœ¨ä¼˜åŒ–çš„æ—¶å€™å¯èƒ½ä¼šå‡è®¾æŸä¸ªå˜é‡çš„å€¼åœ¨æ²¡æœ‰æ˜æ˜¾çš„èµ‹å€¼çš„æƒ…å†µä¸‹ä¸ä¼šå‘ç”Ÿæ”¹å˜ï¼Œç„¶åè¿›è¡ŒæŸäº›ä¼˜åŒ–ï¼Œå¦‚å€¼çš„ç¼“å­˜ã€æ— æ•ˆçš„ä»£ç å‰”é™¤ç­‰ç­‰ã€‚ä½†å¦‚æœè¯¥å˜é‡è¢«å£°æ˜ä¸º&lt;code&gt;volatile&lt;/code&gt;ï¼Œç¼–è¯‘å™¨å°±ä¸èƒ½åšè¿™æ ·çš„å‡è®¾ï¼Œæ¯æ¬¡å¼•ç”¨è¿™ä¸ªå˜é‡éƒ½å¿…é¡»ä»å®ƒæ‰€åœ¨çš„å†…å­˜ä¸­å–å›ï¼Œä¸èƒ½é€šè¿‡å¯„å­˜å™¨ä¸­ç¼“å­˜çš„å€¼æˆ–è¡¨è¾¾å¼æ¶ˆé™¤è¿›è¡Œä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æä¾›å†…å­˜å±éšœï¼šåœ¨æŸäº›æ¶æ„ä¸‹ï¼Œç¼–è¯‘å™¨æˆ–ç¡¬ä»¶å¯èƒ½ä¼šå¯¹å†…å­˜è®¿é—®è¿›è¡Œé‡æ–°æ’åºï¼Œè€Œ &lt;code&gt;volatile&lt;/code&gt;å¯ä»¥é˜²æ­¢å¯¹è¿™ç§ç‰¹å®šå˜é‡çš„è®¿é—®å‘ç”Ÿé‡æ–°æ’åºã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä½†æ˜¯å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ&lt;code&gt;volatile&lt;/code&gt;å¹¶ä¸èƒ½ä¿è¯å¤æ‚æ“ä½œçš„åŸå­æ€§ã€‚æ¯”å¦‚&lt;code&gt;++&lt;/code&gt;,&lt;code&gt;--&lt;/code&gt;,&lt;code&gt;+=&lt;/code&gt;ç­‰éƒ½ä¸æ˜¯åŸå­æ“ä½œã€‚å¦å¤–ï¼ŒC++ä¸­&lt;code&gt;volatile&lt;/code&gt;ä¸æä¾›å†…å­˜æ¨¡å‹çš„æ”¯æŒï¼Œå¦‚æœä½ å¸Œæœ›è¿›è¡Œçº¿ç¨‹é—´çš„åŒæ­¥ï¼Œä½ å¯èƒ½éœ€è¦ä½¿ç”¨C++11å¼•å…¥çš„&lt;code&gt;std::atomic&lt;/code&gt;æˆ–è€…å…·æœ‰åŸå­æ“ä½œç‰¹æ€§çš„å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;å†è®°å½•ä¸€ä¸ªååˆ†ç›¸ä¼¼çš„ä½¿ç”¨&lt;code&gt;mutable&lt;/code&gt;,&lt;code&gt;mutable&lt;/code&gt;æ˜¯ä¸€ä¸ªä¸“é—¨ç”¨æ¥æ”¹å˜ç±»æˆå‘˜çš„å…³é”®å­—ã€‚å½“ä¸€ä¸ªå¯¹è±¡è¢«å£°æ˜ä¸º&lt;code&gt;const&lt;/code&gt;ï¼Œå…¶æ‰€æœ‰æˆå‘˜éƒ½å°†æˆä¸ºåªè¯»ï¼Œè¿™æ—¶æˆ‘ä»¬å°±ä¸èƒ½åœ¨ç±»çš„&lt;code&gt;const&lt;/code&gt;æˆå‘˜å‡½æ•°ä¸­æ”¹å˜æˆå‘˜å˜é‡çš„å€¼ã€‚ä½†æ˜¯æœ‰æ—¶æˆ‘ä»¬éœ€è¦åœ¨&lt;code&gt;const&lt;/code&gt;æˆå‘˜å‡½æ•°ä¸­æ”¹å˜ä¸€äº›ç±»æˆå‘˜çš„å€¼ï¼Œè¿™æ—¶å°±å¯ä»¥ä½¿ç”¨&lt;code&gt;mutable&lt;/code&gt;å…³é”®å­—æ¥ä¿®é¥°é‚£äº›éœ€è¦æ”¹å˜çš„æˆå‘˜å˜é‡ï¼Œå³ä½¿åœ¨&lt;code&gt;const&lt;/code&gt;æˆå‘˜å‡½æ•°ä¸­ï¼Œè¿™äº›è¢«&lt;code&gt;mutable&lt;/code&gt;ä¿®é¥°çš„æˆå‘˜å˜é‡çš„å€¼ä¹Ÿå¯ä»¥æ”¹å˜ã€‚&lt;/p&gt;
&lt;p&gt;æ€»ç»“æ¥è¯´ï¼Œè¿™ä¸¤è€…åœ¨è¯­ä¹‰å’Œç”¨é€”ä¸Šæ˜¯å®Œå…¨ä¸åŒçš„ï¼Œä½†æ˜¯å®ƒä»¬éƒ½æ”¹å˜äº†ç¼–è¯‘å™¨é»˜è®¤çš„è¡Œä¸ºã€‚&lt;code&gt;volatile&lt;/code&gt;å…³é”®å­—æ”¹å˜äº†ç¼–è¯‘å™¨å¯¹ç‰¹å®šç±»å‹å˜é‡çš„ä¼˜åŒ–ç­–ç•¥ï¼Œè€Œ&lt;code&gt;mutable&lt;/code&gt;å…³é”®å­—å¯¹ &lt;code&gt;const&lt;/code&gt;å¯¹è±¡ä¸­çš„æ•°æ®æˆå‘˜çš„ä¿®æ”¹æƒè¿›è¡Œäº†é‡æ–°å®šä¹‰ã€‚&lt;/p&gt;</content><category term="programming"></category><category term="programing"></category></entry><entry><title>C++å¹¶å‘ç¼–ç¨‹(I)</title><link href="/cbing-fa-bian-cheng-i.html" rel="alternate"></link><published>2021-02-07T20:21:00+08:00</published><updated>2021-02-07T20:21:00+08:00</updated><author><name>sjtuzbx</name></author><id>tag:None,2021-02-07:/cbing-fa-bian-cheng-i.html</id><summary type="html">&lt;p&gt;å­¦ä¹ C++å¹¶å‘ç¼–ç¨‹ï¼Œä½ å¯ä»¥éµå¾ªä»¥ä¸‹çš„å­¦ä¹ é¡ºåº&lt;/p&gt;</summary><content type="html">&lt;p&gt;å­¦ä¹ C++å¹¶å‘ç¼–ç¨‹ï¼Œä½ å¯ä»¥éµå¾ªä»¥ä¸‹çš„å­¦ä¹ é¡ºåºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ç†è§£å¹¶å‘ä¸å¹¶è¡Œï¼šé¦–å…ˆè¦ç†è§£å¹¶å‘å’Œå¹¶è¡Œçš„æ¦‚å¿µä»¥åŠä¸¤è€…ä¹‹é—´çš„åŒºåˆ«ã€‚å¹¶å‘æ˜¯åŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡çš„èƒ½åŠ›ï¼›å¹¶è¡Œåˆ™æ˜¯åŒæ—¶è¿›è¡Œå¤šä¸ªä»»åŠ¡ã€‚å¹¶å‘å…³æ³¨å¦‚ä½•æœ€æœ‰æ•ˆçš„ç®¡ç†å’Œè°ƒåº¦åœ¨åŒä¸€æ—¶åˆ»å¯èƒ½è¿è¡Œçš„å¤šä¸ªä»»åŠ¡ï¼Œè€Œå¹¶è¡Œåˆ™å…³æ³¨å¦‚ä½•æœ€å¤§åŒ–åˆ©ç”¨èµ„æºæ¥æå‡æ€§èƒ½ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;C++ Threadingï¼šäº†è§£C++11å¼•å…¥çš„çº¿ç¨‹åº“ï¼Œè¿™æ˜¯å¹¶å‘ç¼–ç¨‹çš„åŸºç¡€ã€‚å¼€å§‹æ—¶ä½ éœ€è¦ç†Ÿæ‚‰&amp;nbsp;std::threadï¼Œäº†è§£å¦‚ä½•å¯åŠ¨å’ŒåŒæ­¥çº¿ç¨‹ã€‚ç„¶åï¼Œä½ éœ€è¦äº†è§£çº¿ç¨‹é—´å¦‚ä½•å…±äº«æ•°æ®ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨äº’æ–¥é”ï¼Œæ¡ä»¶å˜é‡ç­‰æœºåˆ¶æ¥å®‰å…¨çš„åœ¨å¤šä¸ªçº¿ç¨‹é—´æ“ä½œå…±äº«æ•°æ®ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Futureå’ŒPromiseï¼š C++11 å¼•å…¥äº† std::future Ğ¸ std::promise&amp;nbsp;ä¸¤ä¸ªç±»ï¼Œå®ƒä»¬æä¾›äº†ä¸€ç§æ–°çš„åŒæ­¥åŸè¯­ç”¨äºä»å¼‚æ­¥æ“ä½œä¸­å¾—åˆ°ç»“æœã€‚ä½ éœ€è¦äº†è§£å¦‚ä½•ä½¿ç”¨å®ƒä»¬ï¼Œå¹¶äº†è§£å…¶ä¸std::asyncå‡½æ•°çš„å…³ç³»ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åŸºäºé”çš„æ•°æ®ç»“æ„ï¼šäº†è§£å¦‚ä½•ä½¿ç”¨äº’æ–¥é”ï¼Œè¯»å†™é”æ¥å®ç°å¹¶å‘æ•°æ®ç»“æ„ï¼Œæ¯”å¦‚çº¿ç¨‹å®‰å…¨çš„é˜Ÿåˆ—ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åŸå­æ“ä½œï¼šC++11 å¼•å…¥äº†åŸå­æ“ä½œï¼Œä¹Ÿå°±æ˜¯ std::atomic&amp;lt;&amp;gt; ç±»å‹ã€‚ç†Ÿæ‚‰å¦‚ä½•å¯¹ std::atomic&amp;lt;&amp;gt;&amp;nbsp;è¿›è¡Œæ“ä½œï¼Œå¹¶äº†è§£å…¶åœ¨å¤šçº¿ç¨‹ä»£ç ä¸­çš„é‡è¦æ€§ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ— é”æ•°æ®ç»“æ„ï¼šç»™é«˜çº§ç”¨æˆ·çš„ã€å¯é€‰çš„è¯¾ç¨‹ã€‚é€šå¸¸ä½ ä¼šéœ€è¦ç†è§£æ›´ä½å±‚æ¬¡çš„ç»†èŠ‚ï¼Œä¾‹å¦‚CPUç¼“å­˜ï¼Œå†…å­˜å±éšœå’ŒåŸå­æ“ä½œã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¹¶è¡Œç®—æ³•ï¼šåœ¨C++17çš„STLä¸­ï¼ŒåŸæ¥çš„å¾ˆå¤šç®—æ³•éƒ½æœ‰äº†å¹¶è¡Œç‰ˆæœ¬ã€‚å­¦ä¹ å¹¶å®ç°é‚£äº›å¹¶è¡Œç®—æ³•ï¼Œç†è§£å®ƒä»¬çš„å·¥ä½œåŸç†ï¼Œå¯ä»¥æé«˜ä»£ç çš„æ€§èƒ½ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä»»åŠ¡å¹¶å‘æ¨¡å‹ï¼šC++20çš„æ‰§è¡Œå™¨å’Œåç¨‹ï¼Œè¿™ä¸¤ä¸ªæ˜¯å½“å‰ç”¨äºå¹¶å‘å’Œå¹¶è¡Œç¼–ç¨‹çš„çƒ­é—¨è¯é¢˜ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="programing"></category></entry><entry><title>C++å¤šæ€å’Œè™šå‡½æ•°(I)</title><link href="/cduo-tai-he-xu-han-shu-i.html" rel="alternate"></link><published>2019-02-07T20:21:00+08:00</published><updated>2019-02-07T20:21:00+08:00</updated><author><name>sjtuzbx</name></author><id>tag:None,2019-02-07:/cduo-tai-he-xu-han-shu-i.html</id><summary type="html">&lt;p&gt;å¤šæ€å’Œè™šå‡½æ•°&lt;/p&gt;</summary><content type="html">&lt;h2&gt;ä»€ä¹ˆæ˜¯å¤šæ€&lt;/h2&gt;
&lt;p&gt;å¤šæ€æ˜¯C++é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œå®ƒå…è®¸ä½¿ç”¨ç›¸åŒçš„æ¥å£æ¥è°ƒç”¨ä¸åŒçš„æ–¹æ³•ã€‚æ¯”å¦‚ï¼Œå½“ç±»ä¹‹é—´å­˜åœ¨ç»§æ‰¿å…³ç³»æ—¶ï¼ŒæŒ‡å‘åŸºç±»çš„æŒ‡é’ˆè°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œä¼šæ ¹æ®å¯¹è±¡çš„å®é™…ç±»å‹æ¥è°ƒç”¨ç›¸åº”çš„å‡½æ•°ã€‚&lt;/p&gt;
&lt;h2&gt;ä»€ä¹ˆæ˜¯è™šå‡½æ•°&lt;/h2&gt;
&lt;p&gt;åœ¨C++ä¸­ï¼Œè™šå‡½æ•°æ˜¯ä¸€ç§ç‰¹æ®Šçš„å‡½æ•°ï¼Œå®ƒåœ¨åŸºç±»ä¸­è¢«å£°æ˜ï¼Œå¹¶åœ¨æ´¾ç”Ÿç±»ä¸­è¢«é‡å†™ã€‚è™šå‡½æ•°çš„ä¸»è¦ç›®çš„æ˜¯å®ç°å¤šæ€æ€§ï¼Œå³å…è®¸æˆ‘ä»¬ä½¿ç”¨åŸºç±»çš„æŒ‡é’ˆæˆ–å¼•ç”¨æ¥è°ƒç”¨æ´¾ç”Ÿç±»ä¸­çš„å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;è™šå‡½æ•°çš„å£°æ˜æ–¹å¼æ˜¯åœ¨å‡½æ•°çš„å£°æ˜å‰é¢åŠ ä¸Šå…³é”®å­—virtualã€‚ä¾‹å¦‚ï¼Œ&lt;code&gt;virtual void func();&lt;/code&gt;å°±æ˜¯ä¸€ä¸ªè™šå‡½æ•°çš„å£°æ˜ã€‚åœ¨æ´¾ç”Ÿç±»ä¸­é‡å†™è™šå‡½æ•°æ—¶ï¼Œå¯ä»¥ä¸ç”¨å†æ¬¡ä½¿ç”¨virtualå…³é”®å­—ï¼Œä½†æ˜¯å‡½æ•°çš„è¿”å›ç±»å‹ã€å‡½æ•°åå’Œå‚æ•°åˆ—è¡¨å¿…é¡»ä¸åŸºç±»ä¸­çš„è™šå‡½æ•°å®Œå…¨ç›¸åŒã€‚&lt;/p&gt;
&lt;p&gt;å½“æˆ‘ä»¬é€šè¿‡åŸºç±»çš„æŒ‡é’ˆæˆ–å¼•ç”¨è°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œä¼šå‘ç”ŸåŠ¨æ€ç»‘å®šï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®é™…è°ƒç”¨çš„å‡½æ•°æ˜¯ç”±æŒ‡é’ˆæˆ–å¼•ç”¨æ‰€æŒ‡å‘å¯¹è±¡çš„å®é™…ç±»å‹å†³å®šçš„ã€‚ä¾‹å¦‚ï¼Œå¦‚æœåŸºç±»æŒ‡é’ˆæŒ‡å‘çš„æ˜¯æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œé‚£ä¹ˆè°ƒç”¨çš„å°±æ˜¯æ´¾ç”Ÿç±»ä¸­çš„è™šå‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;è™šå‡½æ•°çš„ä½¿ç”¨ä½¿å¾—æˆ‘ä»¬å¯ä»¥åœ¨ä¸çŸ¥é“å¯¹è±¡å…·ä½“ç±»å‹çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡åŸºç±»çš„æŒ‡é’ˆæˆ–å¼•ç”¨æ¥è°ƒç”¨æ´¾ç”Ÿç±»ä¸­çš„å‡½æ•°ï¼Œä»è€Œå®ç°å¤šæ€æ€§ã€‚è¿™åœ¨ç¼–å†™ä¸€äº›éœ€è¦å¤„ç†å¤šç§ç±»å‹å¯¹è±¡çš„ä»£ç æ—¶éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥æé«˜ä»£ç çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚&lt;/p&gt;
&lt;h2&gt;ä»€ä¹ˆæ˜¯è™šå‡½æ•°è¡¨&lt;/h2&gt;
&lt;p&gt;åœ¨C++ä¸­ï¼Œè™šå‡½æ•°è¡¨æ˜¯ä¸€ç§ç”¨äºå®ç°&lt;strong&gt;åŠ¨æ€å¤šæ€æ€§&lt;/strong&gt;çš„æœºåˆ¶ã€‚æ¯ä¸€ä¸ªåŒ…å«è™šå‡½æ•°çš„ç±»ï¼ˆæˆ–è€…è¯´ï¼Œæ¯ä¸€ä¸ªå¤šæ€ç±»ï¼‰éƒ½æœ‰ä¸€ä¸ªè™šå‡½æ•°è¡¨ã€‚è¿™ä¸ªè¡¨æ˜¯ç¼–è¯‘å™¨è‡ªåŠ¨åˆ›å»ºçš„ï¼Œå…¶ä¸­åŒ…å«äº†ç±»ä¸­è™šå‡½æ•°çš„åœ°å€ã€‚&lt;/p&gt;
&lt;p&gt;æ¯ä¸€ä¸ªå¤šæ€ç±»çš„å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªæŒ‡å‘è™šå‡½æ•°è¡¨çš„æŒ‡é’ˆï¼Œé€šå¸¸è¿™ä¸ªæŒ‡é’ˆæ˜¯å­˜å‚¨åœ¨å¯¹è±¡çš„å†…å­˜ç©ºé—´ä¸­çš„ã€‚å½“æˆ‘ä»¬é€šè¿‡åŸºç±»çš„æŒ‡é’ˆæˆ–å¼•ç”¨è°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œç¼–è¯‘å™¨ä¼šæ ¹æ®è¿™ä¸ªæŒ‡é’ˆæ‰¾åˆ°è™šå‡½æ•°è¡¨ï¼Œç„¶ååœ¨è¡¨ä¸­æŸ¥æ‰¾å¯¹åº”çš„è™šå‡½æ•°ï¼Œç„¶åè°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚è¿™å°±æ˜¯&lt;strong&gt;åŠ¨æ€ç»‘å®š&lt;/strong&gt;çš„è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;è™šå‡½æ•°è¡¨æ˜¯C++å®ç°åŠ¨æ€å¤šæ€æ€§çš„å…³é”®ã€‚å®ƒä½¿å¾—æˆ‘ä»¬å¯ä»¥åœ¨è¿è¡Œæ—¶æ ¹æ®å¯¹è±¡çš„å®é™…ç±»å‹æ¥è°ƒç”¨ç›¸åº”çš„è™šå‡½æ•°ï¼Œè¿™åœ¨ç¼–å†™ä¸€äº›éœ€è¦å¤„ç†å¤šç§ç±»å‹å¯¹è±¡çš„ä»£ç æ—¶éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥æé«˜ä»£ç çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚&lt;/p&gt;</content><category term="programming"></category><category term="programing"></category></entry><entry><title>C++æ¨¡æ¿(I)</title><link href="/cmo-ban-i.html" rel="alternate"></link><published>2019-02-07T20:21:00+08:00</published><updated>2019-02-07T20:21:00+08:00</updated><author><name>sjtuzbx</name></author><id>tag:None,2019-02-07:/cmo-ban-i.html</id><summary type="html">&lt;p&gt;C++çš„æ¨¡æ¿æ˜¯ä¸€é¡¹å¼ºå¤§çš„ç‰¹æ€§ï¼Œå®ƒä½¿å¾—æ³›å‹ç¼–ç¨‹æˆä¸ºå¯èƒ½ï¼Œæé«˜äº†ä»£ç çš„å¤ç”¨æ€§å’Œæ€§èƒ½.&lt;/p&gt;</summary><content type="html">&lt;p&gt;C++çš„æ¨¡æ¿æ˜¯ä¸€é¡¹å¼ºå¤§çš„ç‰¹æ€§ï¼Œå®ƒä½¿å¾—æ³›å‹ç¼–ç¨‹æˆä¸ºå¯èƒ½ï¼Œæé«˜äº†ä»£ç çš„å¤ç”¨æ€§å’Œæ€§èƒ½ã€‚C++çš„æ¨¡æ¿ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹æ€§ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;å‡½æ•°æ¨¡æ¿ï¼šC++å…è®¸åˆ›å»ºé€šç”¨çš„å‡½æ•°æ¨¡æ¿æ¥å¤„ç†ä¸åŒç±»å‹çš„æ•°æ®ã€‚é€šè¿‡å‡½æ•°æ¨¡æ¿ï¼Œå¯ä»¥ç¼–å†™ä¸€æ¬¡ä»£ç ï¼Œé€‚ç”¨äºå¤šç§æ•°æ®ç±»å‹ï¼Œå®ç°ä»£ç çš„å¤ç”¨æ€§å’Œçµæ´»æ€§ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç±»æ¨¡æ¿ï¼šC++è¿˜æ”¯æŒç±»æ¨¡æ¿ï¼Œå…è®¸åˆ›å»ºé€šç”¨çš„ç±»æ¥å¤„ç†ä¸åŒç±»å‹çš„æ•°æ®ã€‚ç±»æ¨¡æ¿å¯ä»¥å®ç°æ³›å‹ç¼–ç¨‹ï¼Œæä¾›äº†å¯¹ä¸åŒç±»å‹æ•°æ®çš„é€šç”¨æ“ä½œã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ¨¡æ¿å…ƒç¼–ç¨‹ï¼šC++æ¨¡æ¿è¿˜æ”¯æŒå…ƒç¼–ç¨‹ï¼Œå³åœ¨ç¼–è¯‘æœŸæ‰§è¡Œä»£ç ã€‚æ¨¡æ¿å…ƒç¼–ç¨‹å¯ä»¥ç”¨äºç¼–è¯‘æœŸæ•°å€¼è®¡ç®—ï¼Œé€šè¿‡é€’å½’å½¢å¼å®ç°å¾ªç¯ç»“æ„ï¼Œæé«˜ä»£ç çš„æ•ˆç‡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç±»å‹ç‰¹æ€§ï¼šC++çš„æ¨¡æ¿æŠ€æœ¯è¿˜å¯ä»¥é€šè¿‡type&amp;nbsp;traitså®ç°ä¸€å¥—æ“ä½œç±»å‹ç‰¹æ€§çš„ç³»ç»Ÿã€‚ç±»å‹ç‰¹æ€§å¯ä»¥ç”¨äºåœ¨ç¼–è¯‘æ—¶å¯¹å˜é‡å’Œå‡½æ•°è¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œå¢åŠ äº†ä»£ç çš„é™æ€ç±»å‹æ£€æŸ¥èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å°¤å…¶æ˜¯è€ƒè™‘åˆ°è™šå‡½æ•°åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­éœ€è¦æŸ¥æ‰¾è™šå‡½æ•°è¡¨é€ æˆçš„é¢å¤–æŸè€—ï¼Œåœ¨å¾ˆå¤šæƒ…å†µä¸‹æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¨¡æ¿æ¥ä»£æ›¿è™šå‡½æ•°ä»¥æå‡æ•ˆç‡ã€‚&lt;/p&gt;</content><category term="programming"></category><category term="programing"></category></entry><entry><title>Makeæ€»ç»“</title><link href="/makezong-jie.html" rel="alternate"></link><published>2018-10-25T14:33:00+08:00</published><updated>2018-10-25T14:33:00+08:00</updated><author><name>sjtuzbx</name></author><id>tag:None,2018-10-25:/makezong-jie.html</id><summary type="html">&lt;p&gt;Makeæ˜¯å¸¸è§çš„æ„å»ºå·¥å…·ï¼ŒæŒ‰ç…§æ–‡ä»¶ä¸­å†™å¥½çš„è§„åˆ™è¿›è¡Œæ„å»º. Makeå‘½ä»¤æ”¾åœ¨ä¸€ä¸ªMakefileçš„æ–‡ä»¶ä¸­ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡&lt;code&gt;make -f rules.txt&lt;/code&gt;æŒ‡å®šå…¶ä»–æ–‡ä»¶å.&lt;/p&gt;</summary><content type="html">&lt;h2&gt;Make&lt;/h2&gt;
&lt;p&gt;Makeæ˜¯å¸¸è§çš„æ„å»ºå·¥å…·ï¼ŒæŒ‰ç…§æ–‡ä»¶ä¸­å†™å¥½çš„è§„åˆ™è¿›è¡Œæ„å»º. Makeå‘½ä»¤æ”¾åœ¨ä¸€ä¸ªMakefileçš„æ–‡ä»¶ä¸­ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡&lt;code&gt;make -f rules.txt&lt;/code&gt;æŒ‡å®šå…¶ä»–æ–‡ä»¶å.&lt;/p&gt;
&lt;h3&gt;Make&amp;nbsp;rules&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nx"&gt;target&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nx"&gt;prerequisites&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nx"&gt;tab&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="w"&gt;   &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nx"&gt;command&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;ä¸€ä¸ªç›®æ ‡æ„æˆä¸€æ¡è§„åˆ™ï¼Œå³å¯ä»¥æ˜¯æ–‡ä»¶åä¹Ÿå¯ä»¥æ˜¯æŸä¸ªæ“ä½œçš„åå­—ï¼&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nx"&gt;clean&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="nx"&gt;rm&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;o&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;é€šè¿‡è°ƒç”¨&lt;code&gt;make clean&lt;/code&gt;æŒ‡ä»¤æ¥æ‰§è¡Œä¸Šè¿°ç¨‹åº, ä¸ºé¿å…æ­§ä¹‰ï¼å¯ä»¥åŠ å…¥&lt;code&gt;.PHONY: clean&lt;/code&gt;å£°æ˜&lt;code&gt;clean&lt;/code&gt;æ˜¯ä¸ºç›®æ ‡ï¼Œä½†ä¸æ˜¯æ–‡ä»¶åæ¥æ‰§è¡Œï¼&lt;code&gt;make&lt;/code&gt;æŒ‡ä»¤é»˜è®¤æ‰§è¡Œç¬¬ä¸€ä¸ªç›®æ ‡&lt;/p&gt;
&lt;p&gt;å‰ç½®æ¡ä»¶(prerequisites)æŒ‡å®šç›®æ ‡æ˜¯å¦é‡æ–°æ„å»ºçš„æ ‡å‡†ï¼Œå¦‚æœå‰ç½®æ–‡ä»¶ä¸å­˜åœ¨æˆ–è€…æ›´æ–°è¿‡ï¼Œå°±éœ€è¦é‡æ–°æ„å»º&lt;/p&gt;
&lt;p&gt;å‘½ä»¤è¡¨ç¤ºå¦‚ä½•æ›´æ–°ç›®æ ‡ï¼Œç”±ä¸€è¡Œæˆ–å¤šè¡ŒShellå‘½ä»¤ç»„æˆï¼&lt;code&gt;#&lt;/code&gt;è¡¨ç¤ºæ³¨é‡Šï¼Œ&lt;code&gt;@&lt;/code&gt;å…³é—­å›å£°ï¼Œå…è®¸ä½¿ç”¨ç­‰å·è‡ªå®šä¹‰å˜é‡,å˜é‡æ”¾åœ¨&lt;code&gt;$()&lt;/code&gt;ä¹‹é—´ï¼&lt;/p&gt;
&lt;p&gt;æš‚æ—¶ä¹‹éœ€è¦è¿™äº›ï¼Œå¦‚æœä»¥åè¿˜æœ‰éœ€è¦å†æ›´æ–°&lt;/p&gt;
&lt;h2&gt;Reference&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.ruanyifeng.com/blog/2015/02/make.html"&gt;makeå‘½ä»¤æ•™ç¨‹&lt;/a&gt;&lt;/p&gt;</content><category term="programming"></category><category term="tool"></category></entry><entry><title>å¦‚ä½•æµ‹è¯•pythonä»£ç </title><link href="/ru-he-ce-shi-pythondai-ma.html" rel="alternate"></link><published>2018-10-25T13:51:00+08:00</published><updated>2018-10-25T13:51:00+08:00</updated><author><name>sjtuzbx</name></author><id>tag:None,2018-10-25:/ru-he-ce-shi-pythondai-ma.html</id><summary type="html">&lt;p&gt;æ€ä¹ˆprofile&amp;nbsp;pythonä»£ç ã€‚&lt;/p&gt;</summary><content type="html">&lt;h2&gt;Profiling&amp;nbsp;Python&lt;/h2&gt;
&lt;h3&gt;Timeit&lt;/h3&gt;
&lt;p&gt;You can use &lt;code&gt;timeit&lt;/code&gt; in IPython to time the&amp;nbsp;statement.&lt;/p&gt;
&lt;p&gt;&lt;img alt="timeit" src="images/ipython-timeit.png"&gt;&lt;/p&gt;
&lt;h3&gt;Profiler&lt;/h3&gt;
&lt;p&gt;Say you have following python&amp;nbsp;code:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rand&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rand&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linalg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;__main__&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;You can time the script using following code in&amp;nbsp;ipython:&lt;/p&gt;
&lt;p&gt;&lt;img alt="profile" src="images/ipython-profile.png"&gt;&lt;/p&gt;
&lt;p&gt;You can also use &lt;code&gt;python -m cProfile test.py&lt;/code&gt; to&amp;nbsp;profile.&lt;/p&gt;
&lt;h3&gt;Line-profiler&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Use &lt;code&gt;pip install line_profiler&lt;/code&gt; to&amp;nbsp;install&lt;/li&gt;
&lt;li&gt;add &lt;code&gt;@profile&lt;/code&gt; to decorate your&amp;nbsp;function&lt;/li&gt;
&lt;li&gt;Use &lt;code&gt;kernprof -l -v test.py&lt;/code&gt; to&amp;nbsp;profile&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;

&lt;span class="nd"&gt;@profile&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rand&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;b&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rand&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linalg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="vm"&gt;__name__&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;__main__&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;solve&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img alt="lineprofile" src="images/ipython-lineprofile.png"&gt;&lt;/p&gt;
&lt;h2&gt;Reference&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://www.scipy-lectures.org/advanced/optimizing/index.html"&gt;optimize python code&lt;/a&gt;
&lt;a href="https://github.com/rkern/line_profiler"&gt;line-profiler&lt;/a&gt;&lt;/p&gt;</content><category term="programming"></category><category term="programing"></category></entry><entry><title>è®¾è®¡æ¨¡å¼</title><link href="/she-ji-mo-shi.html" rel="alternate"></link><published>2018-10-21T15:53:00+08:00</published><updated>2018-10-21T15:53:00+08:00</updated><author><name>sjtuzbx</name></author><id>tag:None,2018-10-21:/she-ji-mo-shi.html</id><summary type="html">&lt;p&gt;ç­–ç•¥æ¨¡å¼, è§‚å¯Ÿè€…æ¨¡å¼, è£…é¥°è€…æ¨¡å¼,&amp;nbsp;å·¥å‚æ–¹æ³•æ¨¡å¼&lt;/p&gt;</summary><content type="html">&lt;h2&gt;Head&amp;nbsp;firstè®¾è®¡æ¨¡å¼&lt;/h2&gt;
&lt;h3&gt;ç­–ç•¥æ¨¡å¼&lt;/h3&gt;
&lt;p&gt;ç­–ç•¥æ¨¡å¼å®šä¹‰äº†ç®—æ³•æ—ï¼Œåˆ†åˆ«å°è£…èµ·æ¥ï¼Œè®©ä»–ä»¬ä¹‹é—´å¯ä»¥ç›¸äº’æ›¿æ¢ï¼Œæ­¤æ¨¡å¼è®©ç®—æ³•çš„å˜åŒ–ç‹¬ç«‹äºä½¿ç”¨ç®—æ³•çš„å®¢æˆ·&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ‰¾å‡ºåº”ç”¨ä¸­å¯èƒ½éœ€è¦å˜åŒ–ä¹‹å¤„ï¼ŒæŠŠä»–ä»¬ç‹¬ç«‹å‡ºæ¥ï¼Œä¸è¦å’Œé‚£äº›ä¸éœ€è¦å˜åŒ–çš„ä»£ç æ··åœ¨ä¸€èµ·&lt;/li&gt;
&lt;li&gt;é’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œè€Œä¸æ˜¯é’ˆå¯¹å®ç°ç¼–ç¨‹&lt;/li&gt;
&lt;li&gt;å¤šç”¨ç»„åˆï¼Œå°‘ç”¨ç»§æ‰¿ &lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;è§‚å¯Ÿè€…æ¨¡å¼&lt;/h3&gt;
&lt;p&gt;è§‚å¯Ÿè€…æ¨¡å¼å®šä¹‰äº†å¯¹è±¡ä¹‹é—´çš„ä¸€å¯¹å¤šä¾èµ–ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå½“ä¸€ä¸ªå¯¹è±¡æ”¹å˜çŠ¶æ€æ—¶ï¼Œä»–çš„æ‰€æœ‰ä¾èµ–è€…éƒ½ä¼šæ”¶åˆ°é€šçŸ¥å¹¶è‡ªåŠ¨æ›´æ–°&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸ºäº†äº¤äº’å¯¹è±¡ä¹‹é—´çš„æ¾è€¦åˆè€ŒåŠªåŠ›&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;è£…é¥°è€…æ¨¡å¼&lt;/h3&gt;
&lt;p&gt;è£…é¥°è€…æ¨¡å¼åŠ¨æ€åœ°å°†è´£ä»»é™„åŠ åˆ°å¯¹è±¡ä¸Šï¼Œè‹¥è¦æ‰©å±•åŠŸèƒ½ï¼Œè£…é¥°è€…æä¾›äº†æ¯”ç»§æ‰¿æ›´æœ‰å¼¹æ€§çš„æ›¿ä»£æ–¹æ¡ˆ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç±»åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;å·¥å‚æ–¹æ³•æ¨¡å¼&lt;/h3&gt;
&lt;p&gt;å·¥å‚æ–¹æ³•æ¨¡å¼é€šè¿‡è®©å­ç±»å†³å®šè¯¥åˆ›å»ºçš„å¯¹è±¡æ˜¯ä»€ä¹ˆï¼Œæ¥è¾¾åˆ°å°†å¯¹è±¡åˆ›å»ºçš„è¿‡ç¨‹å°è£…çš„ç›®çš„ï¼å·¥å‚æ–¹æ³•æ¨¡å¼å®šä¹‰äº†ä¸€ä¸ªåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œä½†ç”±å­ç±»å†³å®šè¦å®ä¾‹åŒ–çš„ç±»æ˜¯å“ªä¸€ä¸ªï¼å·¥å‚æ–¹æ³•è®©ç±»å§å®ä¾‹åŒ–æ¨è¿Ÿåˆ°å­ç±»&lt;/p&gt;
&lt;h3&gt;Reference&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://www.processon.com/"&gt;&lt;span class="caps"&gt;UML&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;</content><category term="programming"></category><category term="programing"></category></entry><entry><title>Pythonç±»æ€»ç»“</title><link href="/pythonlei-zong-jie.html" rel="alternate"></link><published>2018-10-21T13:52:00+08:00</published><updated>2018-10-21T13:52:00+08:00</updated><author><name>sjtuzbx</name></author><id>tag:None,2018-10-21:/pythonlei-zong-jie.html</id><summary type="html">&lt;p&gt;ç±»æ˜¯æ–¹æ³•å’Œæ•°æ®çš„é›†åˆï¼Œæ¯ä¸ªç±»æœ‰å¤šä¸ªç±»å®ä¾‹ï¼Œç±»å®ä¾‹æœ‰å„è‡ªçš„å±æ€§ä¿æŒå„è‡ªçš„çŠ¶æ€ï¼Œç±»å®ä¾‹æœ‰ç±»æ–¹æ³•æ¥ä¿®æ”¹ç±»çŠ¶æ€ã€‚&lt;/p&gt;</summary><content type="html">&lt;h2&gt;Class&lt;/h2&gt;
&lt;p&gt;ç±»æ˜¯æ–¹æ³•å’Œæ•°æ®çš„é›†åˆï¼Œæ¯ä¸ªç±»æœ‰å¤šä¸ªç±»å®ä¾‹ï¼Œç±»å®ä¾‹æœ‰å„è‡ªçš„å±æ€§ä¿æŒå„è‡ªçš„çŠ¶æ€ï¼Œç±»å®ä¾‹æœ‰ç±»æ–¹æ³•æ¥ä¿®æ”¹ç±»çŠ¶æ€ã€‚&lt;/p&gt;
&lt;h3&gt;Namespace and&amp;nbsp;Scope&lt;/h3&gt;
&lt;p&gt;namespace(å‘½åç©ºé—´)æ˜¯å˜é‡ååˆ°å¯¹è±¡çš„æ˜ å°„ï¼ŒPythonä¸­çš„å‘½åç©ºé—´åŒ…æ‹¬ï¼šthe set of built-in names, global names in a module and the local names in a function invocation.&amp;nbsp;ä¸åŒå‘½åç©ºé—´ä¸­å®šä¹‰çš„å˜é‡åæ˜¯æ²¡æœ‰å…³ç³»çš„&lt;/p&gt;
&lt;p&gt;By the way, I use the word &lt;strong&gt;attribute&lt;/strong&gt; for any name following a dot â€” for example, in the expression z.real, real is an attribute of the object&amp;nbsp;z.&lt;/p&gt;
&lt;p&gt;ä¸åŒå‘½åç©ºé—´åˆ›å»ºæ—¶é—´å’Œç”Ÿå‘½å‘¨æœŸä¸åŒï¼ŒåŒ…å«built-in&amp;nbsp;namesçš„å‘½åç©ºé—´åœ¨Pythonè§£é‡Šå™¨å¯åŠ¨æ—¶å»ºç«‹ï¼Œå¹¶ä¸”æ°¸è¿œä¸ä¼šè¢«åˆ é™¤ã€‚æ¨¡å—çš„å…¨å±€å‘½åç©ºé—´å½“æ¨¡å—å®šä¹‰è¢«è¯»å…¥æ—¶åˆ›å»ºï¼Œå‡½æ•°å†…çš„å‘½ä»¤ç©ºé—´åœ¨å‡½æ•°è¢«è°ƒç”¨æ—¶åˆ›å»ºï¼Œå‡½æ•°æ‰§è¡Œç»“æŸæ—¶é”€æ¯ã€‚&lt;/p&gt;
&lt;p&gt;scope(ä½œç”¨åŸŸ)æ˜¯å‘½åç©ºé—´èƒ½è¢«ç›´æ¥è®¿é—®çš„éƒ¨åˆ†ï¼ŒåŒ…æ‹¬:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;the innermost scope, which is searched first, contains the local&amp;nbsp;names&lt;/li&gt;
&lt;li&gt;the scopes of any enclosing functions, which are searched starting with the nearest enclosing scope, contains non-local, but also non-global&amp;nbsp;names&lt;/li&gt;
&lt;li&gt;the next-to-last scope contains the current moduleâ€™s global&amp;nbsp;names&lt;/li&gt;
&lt;li&gt;the outermost scope (searched last) is the namespace containing built-in&amp;nbsp;names&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™é‡Œè¦åŒºåˆ†&lt;em&gt;global&lt;/em&gt;, &lt;em&gt;nonlocal&lt;/em&gt;ä¹‹é—´çš„å·®å¼‚ï¼Œå¦‚æœä¸€ä¸ªå˜é‡è¢«å£°æ˜ä¸º&lt;em&gt;global&lt;/em&gt;,åˆ™ç›´æ¥å¯¹è¯¥å˜é‡çš„æ‰€æœ‰å¼•ç”¨å’Œèµ‹å€¼å‘ç”Ÿåœ¨æ¨¡å—çš„global namesä½œç”¨åŸŸä¸­ã€‚å¦‚æœä¸€ä¸ªå˜é‡è¢«å£°æ˜ä¸ºnonlocal,&amp;nbsp;åˆ™è¡¨ç¤ºè¯¥å˜é‡åœ¨åµŒå¥—çš„ä½œç”¨åŸŸä¸­ã€‚å…¶ä»–æƒ…å†µä¸‹ï¼ŒåŒåå˜é‡æ˜¯åªè¯»çš„ï¼Œå¦‚æœå¯¹åŒåå˜é‡å†™å…¥ï¼Œåˆ™ä¸ºè¯¥å˜é‡åˆ›å»ºä¸€ä¸ªæ–°çš„å±€éƒ¨å˜é‡&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;scope_test&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;do_local&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
        &lt;span class="n"&gt;spam&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;local spam&amp;quot;&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;do_nonlocal&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
        &lt;span class="k"&gt;nonlocal&lt;/span&gt; &lt;span class="n"&gt;spam&lt;/span&gt;
        &lt;span class="n"&gt;spam&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;nonlocal spam&amp;quot;&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;do_global&lt;/span&gt;&lt;span class="p"&gt;():&lt;/span&gt;
        &lt;span class="k"&gt;global&lt;/span&gt; &lt;span class="n"&gt;spam&lt;/span&gt;
        &lt;span class="n"&gt;spam&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;global spam&amp;quot;&lt;/span&gt;

    &lt;span class="n"&gt;spam&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;test spam&amp;quot;&lt;/span&gt;
    &lt;span class="n"&gt;do_local&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;After local assignment:&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;do_nonlocal&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;After nonlocal assignment:&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;do_global&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;After global assignment:&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;scope_test&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;In global scope:&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;spam&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;è¾“å‡ºç»“æœæ˜¯:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;After&lt;/span&gt; &lt;span class="n"&gt;local&lt;/span&gt; &lt;span class="n"&gt;assignment&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;test&lt;/span&gt; &lt;span class="n"&gt;spam&lt;/span&gt;
&lt;span class="n"&gt;After&lt;/span&gt; &lt;span class="k"&gt;nonlocal&lt;/span&gt; &lt;span class="n"&gt;assignment&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="k"&gt;nonlocal&lt;/span&gt; &lt;span class="n"&gt;spam&lt;/span&gt;
&lt;span class="n"&gt;After&lt;/span&gt; &lt;span class="k"&gt;global&lt;/span&gt; &lt;span class="n"&gt;assignment&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="k"&gt;nonlocal&lt;/span&gt; &lt;span class="n"&gt;spam&lt;/span&gt;
&lt;span class="n"&gt;In&lt;/span&gt; &lt;span class="k"&gt;global&lt;/span&gt; &lt;span class="n"&gt;scope&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="k"&gt;global&lt;/span&gt; &lt;span class="n"&gt;spam&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Class definition&amp;nbsp;syntax&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;ClassName&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;statement&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="o"&gt;.&lt;/span&gt;
    &lt;span class="o"&gt;.&lt;/span&gt;
    &lt;span class="o"&gt;.&lt;/span&gt;
    &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;statement&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;N&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Class&amp;nbsp;object&lt;/h3&gt;
&lt;p&gt;ç±»å¯¹è±¡æ”¯æŒä¸¤ç§ç±»å‹çš„æ“ä½œ:attribute references and instantiation. 
* attribute referencesé€šè¿‡.è¿ç®—ç¬¦å®ç°ï¼Œobj.attribute
* å®ä¾‹åŒ–é€šè¿‡&lt;code&gt;x = MyClass()&lt;/code&gt;å®ç°&lt;/p&gt;
&lt;h3&gt;Instance&amp;nbsp;object&lt;/h3&gt;
&lt;p&gt;The only operations understood by instance objects are attribute references. There are two kinds of valid attribute names, &lt;em&gt;data attributes&lt;/em&gt; and &lt;em&gt;methods&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;### Class and Instance&amp;nbsp;Variables&lt;/p&gt;
&lt;p&gt;å®ä¾‹å˜é‡æ˜¯å„ä¸ªå®ä¾‹ç‹¬æœ‰çš„ï¼Œè€Œç±»å˜é‡æ˜¯è¯¥ç±»çš„æ‰€æœ‰å®ä¾‹æ‰€å…±æœ‰çš„&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Dog&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;

    &lt;span class="n"&gt;kind&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;canine&amp;#39;&lt;/span&gt;         &lt;span class="c1"&gt;# class variable shared by all instances&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="fm"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;    &lt;span class="c1"&gt;# instance variable unique to each instance&lt;/span&gt;

&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Dog&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Fido&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Dog&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;Buddy&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;kind&lt;/span&gt;                  &lt;span class="c1"&gt;# shared by all dogs&lt;/span&gt;
&lt;span class="s1"&gt;&amp;#39;canine&amp;#39;&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;kind&lt;/span&gt;                  &lt;span class="c1"&gt;# shared by all dogs&lt;/span&gt;
&lt;span class="s1"&gt;&amp;#39;canine&amp;#39;&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;d&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;                  &lt;span class="c1"&gt;# unique to d&lt;/span&gt;
&lt;span class="s1"&gt;&amp;#39;Fido&amp;#39;&lt;/span&gt;
&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;                  &lt;span class="c1"&gt;# unique to e&lt;/span&gt;
&lt;span class="s1"&gt;&amp;#39;Buddy&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;###&amp;nbsp;Inheritance&lt;/p&gt;
&lt;p&gt;&lt;code&gt;python
class DerivedClassName(BaseClassName):
    &amp;lt;statement-1&amp;gt;
    .
    .
    .
    &amp;lt;statement-N&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Thereâ€™s nothing special about instantiation of derived classes: DerivedClassName() creates a new instance of the class. Method references are resolved as follows: the corresponding class attribute is searched, descending down the chain of base classes if necessary, and the method reference is valid if this yields a function&amp;nbsp;object.&lt;/p&gt;
&lt;p&gt;Derived classes may override methods of their base classes. Because methods have no special privileges when calling other methods of the same object, a method of a base class that calls another method defined in the same base class may end up calling a method of a derived class that overrides it. (For C++ programmers: all methods in Python are effectively&amp;nbsp;virtual.)&lt;/p&gt;
&lt;p&gt;An overriding method in a derived class may in fact want to extend rather than simply replace the base class method of the same name. There is a simple way to call the base class method directly: just call BaseClassName.methodname(self, arguments). This is occasionally useful to clients as well. (Note that this only works if the base class is accessible as BaseClassName in the global&amp;nbsp;scope.)&lt;/p&gt;
&lt;p&gt;Python has two built-in functions that work with&amp;nbsp;inheritance:&lt;/p&gt;
&lt;p&gt;Use isinstance() to check an instanceâ€™s type: isinstance(obj, int) will be True only if obj.&lt;strong&gt;class&lt;/strong&gt; is int or some class derived from int.
Use issubclass() to check class inheritance: issubclass(bool, int) is True since bool is a subclass of int. However, issubclass(float, int) is False since float is not a subclass of&amp;nbsp;int.&lt;/p&gt;</content><category term="programming"></category><category term="programing"></category></entry><entry><title>çŸ©é˜µå¤ä¹ </title><link href="/ju-zhen-fu-xi.html" rel="alternate"></link><published>2018-10-20T20:48:00+08:00</published><updated>2018-10-20T20:48:00+08:00</updated><author><name>sjtuzbx</name></author><id>tag:None,2018-10-20:/ju-zhen-fu-xi.html</id><summary type="html">&lt;p&gt;ä¸€äº›æœ‰ç”¨çš„ç»“è®º:&amp;nbsp;å®å¯¹ç§°é˜µå¯ä»¥æ­£äº¤å¯¹è§’åŒ–&lt;/p&gt;</summary><content type="html">&lt;h2&gt;ä¸€äº›æœ‰ç”¨çš„ç»“è®º&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;å®å¯¹ç§°é˜µå¯ä»¥æ­£äº¤å¯¹è§’åŒ–&lt;/li&gt;
&lt;li&gt;ç‰¹å¾å€¼ &lt;span class="math"&gt;\(\lambda_i\)&lt;/span&gt;çš„å‡ ä½•é‡æ•°æ˜¯&lt;span class="math"&gt;\((\lambda I-A)x=0\)&lt;/span&gt;çš„åŸºç¡€è§£ç³»çš„ä¸ªæ•°&lt;/li&gt;
&lt;li&gt;ç‰¹å¾å€¼ &lt;span class="math"&gt;\(\lambda_i\)&lt;/span&gt;çš„ä»£æ•°é‡æ•°&lt;span class="math"&gt;\(n_i\)&lt;/span&gt;æ˜¯&lt;span class="math"&gt;\(|\lambda&amp;nbsp;I-A|=\Pi_{i=1}^s(\lambda-\lambda_i)^{n_i}\)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;çŸ©é˜µçš„è¡Œåˆ—å¼æ˜¯æ‰€æœ‰ç‰¹å¾å€¼çš„ä¹˜ç§¯&lt;/li&gt;
&lt;li&gt;çŸ©é˜µçš„è¿¹æ˜¯æ‰€æœ‰ç‰¹å¾å€¼çš„å’Œ&lt;/li&gt;
&lt;li&gt;Aå¯é€† &lt;span class="math"&gt;\(\leftrightarrow\)&lt;/span&gt;&amp;nbsp;0ä¸æ˜¯Açš„ç‰¹å¾å€¼&lt;/li&gt;
&lt;li&gt;ä»»ä½•ç‰¹å¾å€¼çš„å‡ ä½•é‡æ•°ä¸è¶…è¿‡å…¶ä»£æ•°é‡æ•°&lt;/li&gt;
&lt;li&gt;ç›¸ä¼¼çŸ©é˜µå…·æœ‰ç›¸åŒçš„ç‰¹å¾å¤šé¡¹å¼ï¼Œä¹Ÿå…·æœ‰ç›¸åŒçš„ç‰¹å¾å€¼&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;ç‰¹å¾å‘é‡&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å±äºä¸åŒç‰¹å¾å€¼çš„ç‰¹å¾å‘é‡çº¿æ€§æ— å…³&lt;/li&gt;
&lt;li&gt;né˜¶çŸ©é˜µAå¯ä»¥å¯¹è§’åŒ– &lt;span class="math"&gt;\(\leftrightarrow\)&lt;/span&gt; Aæœ‰nä¸ªçº¿æ€§æ— å…³çš„ç‰¹å¾å‘é‡ &lt;span class="math"&gt;\(\leftrightarrow\)&lt;/span&gt; &lt;span class="math"&gt;\(F^n\)&lt;/span&gt;æœ‰ä¸€ç»„ç”±Açš„ç‰¹å¾å‘é‡ç»„æˆçš„åŸº &lt;span class="math"&gt;\(\leftrightarrow\)&lt;/span&gt;&amp;nbsp;Açš„æ¯ä¸ªç‰¹å¾å€¼çš„å‡ ä½•é‡æ•°ç­‰äºä»£æ•°é‡æ•°ï¼Œç‰¹åˆ«çš„ï¼Œè‹¥Aæœ‰nä¸ªä¸åŒçš„ç‰¹å¾å€¼ï¼Œåˆ™Aå¯ä»¥å¯¹è§’åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;ç©ºé—´&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è®¾&lt;span class="math"&gt;\(\alpha_1, \alpha_2, \cdots, \alpha_n\)&lt;/span&gt;æ˜¯ä¸€ç»„æ ‡å‡†æ­£äº¤åŸºï¼Œåˆ™çŸ©é˜µ&lt;span class="math"&gt;\(Q=(\alpha_1, \alpha_2, \cdots, \alpha_n)\)&lt;/span&gt;ç§°ä¸ºé…‰çŸ©é˜µï¼Œå®çš„é…‰çŸ©é˜µç§°ä¸ºæ­£äº¤çŸ©é˜µ&lt;/li&gt;
&lt;li&gt;é…‰çŸ©é˜µçš„é€†çŸ©é˜µæ˜¯å…¶å…±è½­è½¬ç½®çŸ©é˜µ&lt;/li&gt;
&lt;li&gt;æ­£äº¤çŸ©é˜µçš„é€†çŸ©é˜µæ˜¯å…¶è½¬ç½®çŸ©é˜µ&lt;/li&gt;
&lt;li&gt;å¤å…±è½­å¯¹ç§°çŸ©é˜µç§°ä¸ºHermiteçŸ©é˜µ&lt;/li&gt;
&lt;li&gt;HermiteçŸ©é˜µçš„ç‰¹å¾å€¼éƒ½ä¸ºå®æ•°ï¼Œä¸”å±äºä¸åŒç‰¹å¾å€¼çš„ç‰¹å¾å‘é‡å½¼æ­¤æ­£äº¤&lt;/li&gt;
&lt;li&gt;è®¾Aæ˜¯né˜¶HermiteçŸ©é˜µï¼Œåˆ™ä¸‹åˆ—æ¡ä»¶ç­‰ä»·&lt;ul&gt;
&lt;li&gt;Aæ­£å®š&lt;/li&gt;
&lt;li&gt;Açš„ç‰¹å¾å€¼å‡ä¸ºæ­£å®æ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        availableFonts: ['STIX', 'TeX']," +
        "        preferredFont: 'STIX'," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="Math"></category><category term="math"></category></entry><entry><title>pelicanÂ blogæ­å»º</title><link href="/pelican-blogda-jian.html" rel="alternate"></link><published>2018-10-20T16:32:00+08:00</published><updated>2018-10-20T16:32:00+08:00</updated><author><name>sjtuzbx</name></author><id>tag:None,2018-10-20:/pelican-blogda-jian.html</id><summary type="html">&lt;p&gt;pelicané…ç½®æ•™ç¨‹step by&amp;nbsp;step.&lt;/p&gt;</summary><content type="html">&lt;h2&gt;Installation&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;pip install pelican&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pip install Markdown&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pelican-quickstart&lt;/code&gt; to build a quick start version&amp;nbsp;project &lt;/li&gt;
&lt;li&gt;[Optional] &lt;code&gt;pip install typogrify&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;Usage&lt;/h2&gt;
&lt;p&gt;blog&amp;nbsp;metadata&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;Title&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;My&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;
&lt;span class="n"&gt;Date&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;2010&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;03&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;
&lt;span class="n"&gt;Modified&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;2010&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;05&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;19&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;30&lt;/span&gt;
&lt;span class="n"&gt;Category&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Python&lt;/span&gt;
&lt;span class="n"&gt;Tags&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;pelican&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;publishing&lt;/span&gt;
&lt;span class="n"&gt;Slug&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;my&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;post&lt;/span&gt;
&lt;span class="n"&gt;Authors&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Alexis&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Metaireau&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Conan&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Doyle&lt;/span&gt;
&lt;span class="n"&gt;Summary&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;Short&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;version&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;and&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;feeds&lt;/span&gt;

&lt;span class="n"&gt;This&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;is&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;the&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;content&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;of&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;my&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;blog&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;post&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;make&amp;nbsp;regenerate &lt;/li&gt;
&lt;li&gt;make&amp;nbsp;serve&lt;/li&gt;
&lt;li&gt;make&amp;nbsp;devserve&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Reference&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://docs.getpelican.com/en/stable/install.html"&gt;pelican&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="https://pypi.org/project/typogrify/"&gt;typogrify&lt;/a&gt;&lt;/p&gt;</content><category term="programming"></category><category term="programing"></category></entry><entry><title>MatrixÂ Calculus</title><link href="/matrix-calculus.html" rel="alternate"></link><published>2018-10-20T16:03:00+08:00</published><updated>2018-10-20T16:03:00+08:00</updated><author><name>sjtuzbx</name></author><id>tag:None,2018-10-20:/matrix-calculus.html</id><summary type="html">&lt;p&gt;è¿™ç¯‡æ–‡ç« æ€»ç»“çŸ©é˜µå¾®ç§¯åˆ†ä¸­ä½¿ç”¨çš„ä¸€äº›å…¬å¼&lt;/p&gt;</summary><content type="html">&lt;h2&gt;Matrix&amp;nbsp;Calculus&lt;/h2&gt;
&lt;h3&gt;Vector-by-Vector&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="math"&gt;\(\frac{\partial a}{\partial x} =&amp;nbsp;0\)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="math"&gt;\(\frac{\partial x}{\partial x} =&amp;nbsp;I\)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="math"&gt;\(\frac{\partial x}{\partial x} =&amp;nbsp;A\)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="math"&gt;\(\frac{\partial x^TA}{\partial x} =&amp;nbsp;A^T\)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="math"&gt;\(\frac{\partial au(x)}{\partial x} = a\frac{\partial u}{\partial&amp;nbsp;x}\)&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Scalar-by-Vector&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;span class="math"&gt;\(\frac{\partial a^Tx}{\partial x} =&amp;nbsp;a^T\)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="math"&gt;\(\frac{\partial u^Tv}{\partial x} = u^T\frac{\partial v}{\partial x} + v^T\frac{\partial u}{\partial&amp;nbsp;x}\)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="math"&gt;\(\frac{\partial u^TAv}{\partial x} = u^TA\frac{\partial v}{\partial x} + v^TA^T\frac{\partial u}{\partial&amp;nbsp;x}\)&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class="math"&gt;\(\frac{\partial x^TAx}{\partial x} = x^T(A^T +&amp;nbsp;A)\)&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Reference&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://en.wikipedia.org/wiki/Matrix_calculus"&gt;Matrix&amp;nbsp;calculas&lt;/a&gt;&lt;/p&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width &lt; 768) ? "left" : align;
        indent = (screen.width &lt; 768) ? "0em" : indent;
        linebreak = (screen.width &lt; 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        availableFonts: ['STIX', 'TeX']," +
        "        preferredFont: 'STIX'," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;</content><category term="Math"></category><category term="math"></category></entry><entry><title>Markdownè¯­æ³•ä»‹ç»</title><link href="/markdownyu-fa-jie-shao.html" rel="alternate"></link><published>2018-10-14T21:14:00+08:00</published><updated>2018-10-14T21:14:00+08:00</updated><author><name>sjtuzbx</name></author><id>tag:None,2018-10-14:/markdownyu-fa-jie-shao.html</id><summary type="html">&lt;p&gt;è¿™ç¯‡æ–‡ç« ä»‹ç»Markdownçš„è¯­æ³•ï¼ŒåŒ…æ‹¬æ ‡é¢˜ã€å¼•ç”¨ã€åˆ—è¡¨ã€ä»£ç ã€å¼ºè°ƒã€é“¾æ¥ã€è¡¨æ ¼ã€åˆ†å‰²çº¿ã€å›¾ç‰‡&lt;/p&gt;</summary><content type="html">&lt;h2&gt;Table of&amp;nbsp;Contents&lt;/h2&gt;
&lt;p&gt;This is a markdown file This is a markdown fileThis is a markdown file This is a markdown file This is a markdown file This is a markdown&amp;nbsp;file&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#æ ‡é¢˜"&gt;æ ‡é¢˜&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#å¼•ç”¨"&gt;å¼•ç”¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#åˆ—è¡¨"&gt;åˆ—è¡¨&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#ä»£ç "&gt;ä»£ç &lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#å¼ºè°ƒ"&gt;å¼ºè°ƒ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#é“¾æ¥"&gt;é“¾æ¥&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#è¡¨æ ¼"&gt;è¡¨æ ¼&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#åˆ†å‰²çº¿"&gt;åˆ†å‰²çº¿&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#å›¾ç‰‡"&gt;å›¾ç‰‡&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#Reference"&gt;Reference&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;æ ‡é¢˜&lt;/h3&gt;
&lt;p&gt;Markdownå…±æ”¯æŒå…­çº§æ ‡é¢˜:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;    # ä¸€çº§æ ‡é¢˜
    ## äºŒçº§æ ‡é¢˜
    ### ä¸‰çº§æ ‡é¢˜
    #### å››çº§æ ‡é¢˜
    ##### äº”çº§æ ‡é¢˜
    ###### å…­çº§æ ‡é¢˜
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;å¼•ç”¨&lt;/h3&gt;
&lt;p&gt;é€šè¿‡åœ¨æ®µè½çš„ç¬¬ä¸€è¡Œæœ€å‰é¢åŠ ä¸Š&lt;em&gt;&amp;gt;&lt;/em&gt;æ¥ä½¿ç”¨å¼•ç”¨:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªå¼•ç”¨&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™æ˜¯äºŒçº§å¼•ç”¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;h3&gt;åˆ—è¡¨&lt;/h3&gt;
&lt;p&gt;åˆ—è¡¨é¡¹ç›®ä¸€èˆ¬æ”¾åœ¨æœ€å·¦è¾¹ï¼Œé¡¹ç›®æ ‡è®°åé¢è¦æ¥ä¸€ä¸ªç©ºæ ¼&lt;/p&gt;
&lt;p&gt;&lt;em&gt;æ— åºåˆ—è¡¨&lt;/em&gt;: ä½¿ç”¨*,&amp;nbsp;+æˆ–è€…-æ ‡è®°&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿™æ˜¯æ— åºåˆ—è¡¨&lt;/li&gt;
&lt;li&gt;è¿™ä¹Ÿæ˜¯æ— åºåˆ—è¡¨&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;æœ‰åºåˆ—è¡¨&lt;/em&gt;:&amp;nbsp;ä½¿ç”¨æ•°å­—æ¥ä¸€ä¸ªè‹±æ–‡å¥è¯&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æœ‰åºåˆ—è¡¨&lt;/li&gt;
&lt;li&gt;æœ‰åºåˆ—è¡¨&lt;/li&gt;
&lt;/ol&gt;
&lt;h3&gt;ä»£ç &lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨&amp;#8220;`æ¥åŒ…è£¹ä»£ç å—å³å¯&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;è¿™æ˜¯ä¸€æ®µä»£ç 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;å¼ºè°ƒ&lt;/h3&gt;
&lt;p&gt;è¿™æ˜¯&lt;em&gt;æ–œä½“&lt;/em&gt;, è¿™æ˜¯&lt;strong&gt;åŠ ç²—&lt;/strong&gt;&lt;/p&gt;
&lt;h3&gt;é“¾æ¥&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;[è¯´æ˜](é“¾æ¥url)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;è¡¨æ ¼&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;First Header&lt;/th&gt;
&lt;th&gt;Second Header&lt;/th&gt;
&lt;th&gt;Third Header&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Content Cell&lt;/td&gt;
&lt;td&gt;Content Cell&lt;/td&gt;
&lt;td&gt;Content Cell&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Content Cell&lt;/td&gt;
&lt;td&gt;Content Cell&lt;/td&gt;
&lt;td&gt;Content Cell&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3&gt;åˆ†å‰²çº¿&lt;/h3&gt;
&lt;p&gt;å¯ä»¥ä½¿ç”¨ä¸‰ä¸ªä»¥ä¸Š-ç¬¦å·åˆ¶ä½œåˆ†å‰²çº¿&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="gh"&gt;ABA&lt;/span&gt;
&lt;span class="gh"&gt;---&lt;/span&gt;
BAB
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;å›¾ç‰‡&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Alt&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;](&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;img&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;jpg&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Reference&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://coding.net/help/doc/project/markdown.html"&gt;Markdownè¯­æ³•ä»‹ç»&lt;/a&gt;&lt;/p&gt;</content><category term="programming"></category><category term="tool"></category></entry><entry><title>äºŒåˆ†æœç´¢çš„å„ç§å†™æ³•</title><link href="/er-fen-sou-suo-de-ge-chong-xie-fa.html" rel="alternate"></link><published>2018-10-14T21:04:00+08:00</published><updated>2018-10-14T21:04:00+08:00</updated><author><name>sjtuzbx</name></author><id>tag:None,2018-10-14:/er-fen-sou-suo-de-ge-chong-xie-fa.html</id><summary type="html">&lt;p&gt;å¯¹äºå·²æ’åºçš„æ•°ç»„x[0..n-1]ï¼Œæƒ³æŸ¥æ‰¾æ•°tï¼Œè‹¥tåœ¨xä¸­åˆ™è¿”å›å…¶ä¸‹æ ‡ï¼ˆå¦‚æœ‰å¤šä¸ªé‡å¤ï¼Œè¿”å›å…¶ä¸­ä¹‹ä¸€)ï¼Œè‹¥tä¸åœ¨xä¸­åˆ™è¿”å›-1ã€‚&lt;/p&gt;</summary><content type="html">&lt;ol&gt;
&lt;li&gt;å¯¹äºå·²æ’åºçš„æ•°ç»„x[0..n-1]ï¼Œæƒ³æŸ¥æ‰¾æ•°tï¼Œè‹¥tåœ¨xä¸­åˆ™è¿”å›å…¶ä¸‹æ ‡ï¼ˆå¦‚æœ‰å¤šä¸ªé‡å¤ï¼Œè¿”å›å…¶ä¸­ä¹‹ä¸€)ï¼Œè‹¥tä¸åœ¨xä¸­åˆ™è¿”å›-1ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;binarysearch&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vector&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;while&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;-1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;å¦‚æœæˆ‘ä»¬å¸Œæœ›ç¡®å®štåœ¨æ•°ç»„ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å¾ªç¯ä¸­ä¿æŒx[l]&lt;t ä¸” x[u]&gt;=t&amp;nbsp;çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬å¯ä»¥åšä»¥ä¸‹ä¿®æ”¹:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;binarysearch2&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vector&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;-1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;while&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;!=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="c1"&gt;// x[l] &amp;lt; t &amp;amp;&amp;amp; x[u] &amp;gt;= t &amp;amp;&amp;amp; l &amp;lt; u&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="c1"&gt;// l + 1 = u &amp;amp;&amp;amp; x[l] &amp;lt; t &amp;amp;&amp;amp; x[u] &amp;gt;= t&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;||&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;!=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;-1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;å…¶å®ä¸Šè¿°ä»£ç çš„pæˆ–è€…uå°±ä»£è¡¨ç¬¬ä¸€ä¸ªå¤§äºæˆ–ç­‰äºtçš„å…ƒç´ çš„ä½ç½®ï¼Œå³STLé‡Œé¢çš„lower_boundå‡½æ•°ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;binarysearch3&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vector&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;-1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;while&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;!=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="c1"&gt;// x[l] &amp;lt; t &amp;amp;&amp;amp; x[u] &amp;gt;= t &amp;amp;&amp;amp; l &amp;lt; u&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="c1"&gt;// l + 1 = u &amp;amp;&amp;amp; x[l] &amp;lt; t &amp;amp;&amp;amp; x[u] &amp;gt;= t&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ol&gt;
&lt;li&gt;æœ€åå¦‚æœè¦å®ç°STLé‡Œé¢çš„upper_boundå‡½æ•°ï¼Œå³è¿”å›ç¬¬ä¸€ä¸ªå¤§äºtçš„å…ƒç´ çš„ä½ç½®æˆ‘ä»¬å¯ä»¥è¿™æ ·åš:&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nf"&gt;binarysearch4&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;vector&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;-1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;while&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;!=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="c1"&gt;// x[l] &amp;lt;= t &amp;amp;&amp;amp; x[u] &amp;gt; t &amp;amp;&amp;amp; l &amp;lt; u&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="c1"&gt;// l + 1 = u &amp;amp;&amp;amp; x[l] &amp;lt;= t &amp;amp;&amp;amp; x[u] &amp;gt; t&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å†™äºŒåˆ†æœç´¢å‡½æ•°çš„å…³é”®æ˜¯ä¿æŒå¾ªç¯ä¸å˜å¼ï¼Œå³ä¿è¯tä¸åŒºé—´ä¸¤ç«¯ç‚¹ä¹‹é—´çš„å¤§å°å…³ç³»ä¸å˜ï¼Œè¿™æ ·å°±å¯ä»¥æ ¹æ®åŒºé—´ä¸¤ç«¯çš„å¤§å°å…³ç³»æ¥åˆ¤æ–­å…¶æ˜¯å¦æ˜¯ä½ éœ€è¦çš„ç»“æœäº†ã€‚&lt;/p&gt;</content><category term="programming"></category><category term="algorithm"></category></entry><entry><title>ç»Ÿè®¡æ¨æ–­å¤ä¹ </title><link href="/tong-ji-tui-duan-fu-xi.html" rel="alternate"></link><published>2018-10-14T20:52:00+08:00</published><updated>2018-10-14T20:52:00+08:00</updated><author><name>sjtuzbx</name></author><id>tag:None,2018-10-14:/tong-ji-tui-duan-fu-xi.html</id><summary type="html">&lt;p&gt;ç»Ÿè®¡æ¨æ–­,&amp;nbsp;æ€»ä½“æ˜¯æ‰€ç ”ç©¶å¯¹è±¡çš„å…¨ä½“ç»„æˆçš„é›†åˆç§°ä¸ºæ€»ä½“ã€‚ç»„æˆæ€»ä½“çš„æ¯ä¸ªå…ƒç´ (æˆå‘˜)ç§°ä¸ºä¸ªä½“ã€‚ä¸æ€»ä½“ç›¸å…³çš„ç‰¹å¾å€¼ç§°ä¸ºå‚æ•°ã€‚&lt;/p&gt;</summary><content type="html">&lt;h3&gt;æ€»ä½“&lt;/h3&gt;
&lt;p&gt;æ‰€ç ”ç©¶å¯¹è±¡çš„å…¨ä½“ç»„æˆçš„é›†åˆç§°ä¸ºæ€»ä½“ã€‚ç»„æˆæ€»ä½“çš„æ¯ä¸ªå…ƒç´ (æˆå‘˜)ç§°ä¸ºä¸ªä½“ã€‚ä¸æ€»ä½“ç›¸å…³çš„ç‰¹å¾å€¼ç§°ä¸ºå‚æ•°ã€‚&lt;/p&gt;
&lt;h3&gt;æ ·æœ¬&lt;/h3&gt;
&lt;p&gt;æ€»ä½“çš„ä»»ä½•ä¸€ä¸ªå­é›†åˆï¼Œç§°ä¸ºä»æ€»ä½“ä¸­æŠ½å–çš„æ ·æœ¬ã€‚æ ·æœ¬ä¸­åŒ…å«ä¸ªä½“çš„æ•°ç›®ç§°ä¸ºæ ·æœ¬å®¹é‡ï¼Œé€šå¸¸è®°ä¸ºnã€‚å› ä¸ºæŠ½å–æ ·æœ¬æ˜¯ä¸ºäº†å¯¹æ€»ä½“ç‰¹å¾è¿›è¡Œ&lt;em&gt;æ¨æ–­&lt;/em&gt;ï¼Œæ‰€ä»¥å¿…é¡»å¯¹æŠ½æ ·æ–¹æ³•æå‡ºä¸€å®šè¦æ±‚ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;éšæœºæ€§:&amp;nbsp;æ€»ä½“ä¸­æ¯ä¸ªä¸ªä½“è¢«æŠ½åˆ°çš„æ¦‚ç‡æ˜¯ç›¸ç­‰çš„ã€‚&lt;/li&gt;
&lt;li&gt;ç‹¬ç«‹æ€§: æ¯æ¬¡è§‚å¯ŸX_1, X_2, &amp;#8230; ,&amp;nbsp;X_næ˜¯ç›¸äº’ç‹¬ç«‹çš„éšæœºå˜é‡ã€‚&lt;/li&gt;
&lt;li&gt;åŒåˆ†å¸ƒæ€§:&amp;nbsp;æ ·æœ¬ä¸æ€»ä½“åŒåˆ†å¸ƒã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ»¡è¶³ä¸Šè¿°æ¡ä»¶çš„æŠ½æ ·æ–¹æ³•ç§°ä¸º&lt;em&gt;ç®€å•éšæœºæŠ½æ ·&lt;/em&gt;&lt;/p&gt;
&lt;h3&gt;ç»Ÿè®¡é‡&lt;/h3&gt;
&lt;p&gt;å¦‚æœç”±æ ·æœ¬æ„é€ ä¸€ä¸ªå‡½æ•°g(X_1, X_2, &amp;#8230;, X_n), ä¸”ä¸å«æœ‰ä»»ä½•æœªçŸ¥å‚æ•°ï¼Œåˆ™ç§°g(X_1, X_2, &amp;#8230;,&amp;nbsp;X_n)ä¸ºç»Ÿè®¡é‡ã€‚&lt;/p&gt;
&lt;p&gt;å¸¸ç”¨çš„ç»Ÿè®¡é‡åŒ…æ‹¬:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ ·æœ¬å‡å€¼&lt;/li&gt;
&lt;li&gt;æ ·æœ¬æ–¹å·®&lt;/li&gt;
&lt;li&gt;æ ·æœ¬ç›¸å…³ç³»æ•°&lt;/li&gt;
&lt;li&gt;æ ·æœ¬ååº¦å’Œæ ·æœ¬å³°åº¦&lt;/li&gt;
&lt;li&gt;æ ·æœ¬å˜å¼‚ç³»æ•°&lt;/li&gt;
&lt;/ul&gt;</content><category term="Math"></category><category term="math"></category></entry><entry><title>Gitå‘½ä»¤æ•´ç†</title><link href="/gitming-ling-zheng-li.html" rel="alternate"></link><published>2018-10-14T15:31:00+08:00</published><updated>2018-10-14T15:31:00+08:00</updated><author><name>sjtuzbx</name></author><id>tag:None,2018-10-14:/gitming-ling-zheng-li.html</id><summary type="html">&lt;p&gt;é¦–å…ˆéœ€è¦æ˜ç¡®ä¸‰ä¸ªæ¦‚å¿µï¼ŒGitä¸­çš„æ–‡ä»¶æœ‰ä¸‰ç§çŠ¶æ€: å·²æäº¤(commited), å·²ä¿®æ”¹(modified)å’Œå·²æš‚å­˜(staged), è¿™é‡Œå‰ä¸¤ä¸ªæ¦‚å¿µæ¯”è¾ƒå¥½ç†è§£ï¼Œå·²æäº¤è¡¨ç¤ºæ•°æ®å·²ä¿å­˜(æ‰§è¡Œgit commitæŒ‡ä»¤å)ï¼Œå·²ä¿®æ”¹è¡¨ç¤ºä¿®æ”¹äº†æ–‡ä»¶ä½†è¿˜æ²¡æœ‰ä¿å­˜æ•°æ®ï¼Œè€Œå·²æš‚å­˜è¡¨ç¤ºå·²ç»å¯¹å½“å‰ç»è¿‡ä¿®æ”¹çš„æ–‡ä»¶åšäº†æ ‡è®°ï¼ˆæ‰§è¡Œgit add&amp;nbsp;filenameæŒ‡ä»¤å)&lt;/p&gt;</summary><content type="html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;é¦–å…ˆéœ€è¦æ˜ç¡®ä¸‰ä¸ªæ¦‚å¿µï¼ŒGitä¸­çš„æ–‡ä»¶æœ‰ä¸‰ç§çŠ¶æ€: å·²æäº¤(commited), å·²ä¿®æ”¹(modified)å’Œå·²æš‚å­˜(staged), è¿™é‡Œå‰ä¸¤ä¸ªæ¦‚å¿µæ¯”è¾ƒå¥½ç†è§£ï¼Œå·²æäº¤è¡¨ç¤ºæ•°æ®å·²ä¿å­˜(æ‰§è¡Œgit commitæŒ‡ä»¤å)ï¼Œå·²ä¿®æ”¹è¡¨ç¤ºä¿®æ”¹äº†æ–‡ä»¶ä½†è¿˜æ²¡æœ‰ä¿å­˜æ•°æ®ï¼Œè€Œå·²æš‚å­˜è¡¨ç¤ºå·²ç»å¯¹å½“å‰ç»è¿‡ä¿®æ”¹çš„æ–‡ä»¶åšäº†æ ‡è®°ï¼ˆæ‰§è¡Œgit add&amp;nbsp;filenameæŒ‡ä»¤å)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä¸ä¹‹ç›¸å¯¹çš„Gité¡¹ç›®æœ‰ä¸‰ä¸ªä¸åŒçš„å·¥ä½œåŒºçš„æ¦‚å¿µ:&amp;nbsp;Gitä»“åº“ã€å·¥ä½œç›®å½•å’Œæš‚å­˜åŒºåŸŸï¼Œä¹‹é—´çš„å…³ç³»å¯ä»¥å‚è€ƒGitåŸºç¡€&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨é¦–æ¬¡ä½¿ç”¨Gitå‰éœ€è¦è¿›è¡Œä¸€äº›ç®€å•çš„é…ç½®:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è®¾ç½®æäº¤ä¸­ä½¿ç”¨çš„ç”¨æˆ·å: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git config --global user.name "yourname"&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è®¾ç½®æäº¤ä¸­ä½¿ç”¨çš„é‚®ä»¶åœ°å€: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git config --global user.email "youremail@emai.com"&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤æ£€æŸ¥ä½ çš„é…ç½®: 
    *&lt;code&gt;git config --list&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¸¸ç”¨æŒ‡ä»¤&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆå§‹åŒ–ä»“åº“: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git init&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è·Ÿè¸ªæ–‡ä»¶(æˆ–è€…æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº): &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git add filename&lt;/code&gt;  &lt;code&gt;git add .&lt;/code&gt;                   //æ·»åŠ æ‰€æœ‰æ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æäº¤æ–‡ä»¶(å°†æš‚å­˜åŒºæ–‡ä»¶ä¿å­˜åˆ°æœ¬åœ°): &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git commit -m "your commit message"&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å…‹éš†ä»“åº“: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git clone url&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git clone --recursive url&lt;/code&gt;ä¸‹è½½æ‰€æœ‰submodule&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹å½“å‰æ–‡ä»¶å¤„äºå“ªä¸ªçŠ¶æ€: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git status&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å¿½ç•¥æ–‡ä»¶: &lt;ul&gt;
&lt;li&gt;ä¿®æ”¹.gitignoreæ–‡ä»¶ï¼Œå¯æ§åˆ¶ä¸å¸Œæœ›è¢«Gitç®¡ç†çš„æ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹æ–‡ä»¶ä¸­å…·ä½“æ›´æ–°ç»†èŠ‚: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git diff&lt;/code&gt;      //&amp;nbsp;æ¯”è¾ƒå·¥ä½œç›®å½•å½“å‰æ–‡ä»¶ä¸æš‚å­˜åŒºåŸŸä¹‹é—´çš„å·®å¼‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git diff --staged&lt;/code&gt;   //&amp;nbsp;æŸ¥çœ‹å·²æš‚å­˜çš„å°†è¦æ·»åŠ åˆ°ä¸‹æ¬¡æäº¤é‡Œçš„å†…å®¹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è·³è¿‡æš‚å­˜åŒºåŸŸç›´æ¥æäº¤: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git commit -a -m "your commit message"&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åˆ é™¤æœ¬åœ°æ–‡ä»¶å’Œæš‚å­˜åŒºæ–‡ä»¶: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git rm filename&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åˆ é™¤æš‚å­˜åŒºæ–‡ä»¶ä½†ä¿ç•™æœ¬åœ°æ–‡ä»¶: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git rm --cached filename&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹æäº¤å†å²: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git log&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é‡æ–°æäº¤: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git commit --amend&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å–æ¶ˆæš‚å­˜çš„æ–‡ä»¶(æ³¨æ„ä¸&lt;code&gt;git rm --cached&lt;/code&gt;çš„åŒºåˆ«): &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git reset HEAD filename&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ’¤é”€å¯¹æ–‡ä»¶çš„ä¿®æ”¹: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git checkout -- filename&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹è¿œç¨‹ä»“åº“: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git remote -v&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ·»åŠ è¿œç¨‹ä»“åº“: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git remote add &amp;lt;shortname&amp;gt; &amp;lt;url&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä»è¿œç¨‹ä»“åº“æŠ“å–æ–‡ä»¶ä½†æ˜¯ä¸åˆå¹¶: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git fetch [remote-name]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä»è¿œç¨‹ä»“åº“æŠ“å–æ–‡ä»¶å¹¶åˆå¹¶: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git pull&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ¨é€åˆ°è¿œç¨‹ä»“åº“: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git push [remote-name] [branch-name]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹è¿œç¨‹ä»“åº“: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git remote show [remote-name]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è¿œç¨‹ä»“åº“é‡å‘½å: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git remote rename [original-name] [new-name]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ç§»é™¤è¿œç¨‹ä»“åº“: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git remote rm [original-name]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åˆ†æ”¯æŒ‡ä»¤&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆ›å»ºåˆ†æ”¯: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git branch [branch-name]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åˆ‡æ¢åˆ†æ”¯: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git checkout [branch-name]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ–°å»ºå¹¶åˆ‡æ¢åˆ†æ”¯: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git checkout -b [branch-name]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git checkout --orphan [branch-name]&lt;/code&gt; åˆ›å»ºä¸€ä¸ªå…¨æ–°åˆ†æ”¯ï¼Œåˆ†æ”¯å†å²ä»é›¶å¼€å§‹&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åˆå¹¶åˆ°å½“å‰åˆ†æ”¯: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git merge [branch-name]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;åˆ é™¤åˆ†æ”¯: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git branch -d [branch-name]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é‡å‘½ååˆ†æ”¯:&lt;ul&gt;
&lt;li&gt;&lt;code&gt;git branch -m [new-branch-name]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æ¨é€åˆ†æ”¯: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git push [remote] [branch]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;é¿å…è¾“å…¥å¯†ç : &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git config --global credential.helper cache&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;è·Ÿè¸ªè¿œç¨‹åˆ†æ”¯: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git checkout -b [branch-name] [remote-name]/[branch-name]&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git checkout --track [remote-name]/[branch-name]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;ä¿®æ”¹ä¸Šæ¸¸åˆ†æ”¯: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git checkout -u [remote-name]/[branch-name]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;æŸ¥çœ‹æ‰€æœ‰è·Ÿè¸ªåˆ†æ”¯: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git branch -vv&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å˜åŸº: &lt;ul&gt;
&lt;li&gt;&lt;code&gt;git rebase [branch-name]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="tool"></category></entry><entry><title>VS Codeä½¿ç”¨AnacondaÂ Promptä½œä¸ºé»˜è®¤terminal</title><link href="/vs-codeshi-yong-anaconda-promptzuo-wei-mo-ren-terminal.html" rel="alternate"></link><published>2018-10-07T21:03:00+08:00</published><updated>2018-10-07T21:03:00+08:00</updated><author><name>sjtuzbx</name></author><id>tag:None,2018-10-07:/vs-codeshi-yong-anaconda-promptzuo-wei-mo-ren-terminal.html</id><summary type="html">&lt;p&gt;&lt;span class="caps"&gt;VS&lt;/span&gt; Codeæ€ä¹ˆä½¿ç”¨ä½¿ç”¨Anaconda&amp;nbsp;Promptä½œä¸ºé»˜è®¤terminal&lt;/p&gt;</summary><content type="html">&lt;h3&gt;Solution&lt;/h3&gt;
&lt;p&gt;åœ¨ä½ è‡ªå·±çš„&lt;code&gt;User settings&lt;/code&gt;ä¸­æ·»åŠ ä¸‹åˆ—ä»£ç &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="s2"&gt;&amp;quot;terminal.integrated.shell.windows&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;C:\\WINDOWS\\System32\\cmd.exe&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="s2"&gt;&amp;quot;terminal.integrated.shellArgs.windows&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;/K&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;C:\\Users\\ben\\Anaconda3\\Scripts\\activate.bat C:\\Users\\ben\\Anaconda3&amp;quot;&lt;/span&gt;&lt;span class="w"&gt;       &lt;/span&gt;
&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­&lt;code&gt;terminal.integrated.shellArgs.windows&lt;/code&gt;åçš„å‚æ•°å¯ä»¥é€šè¿‡å³é”®ç‚¹å‡»&lt;code&gt;Anaconda Prompt&lt;/code&gt;é€‰æ‹©&lt;code&gt;å±æ€§&lt;/code&gt;,å¤åˆ¶ç›®æ ‡ä¸€æ ä¸­ååŠéƒ¨åˆ†è·¯å¾„è·å¾—&lt;/p&gt;
&lt;h3&gt;Reference&lt;/h3&gt;
&lt;p&gt;&lt;a href="http://mscodingblog.blogspot.com/2017/08/setup-integrated-terminal-in-vs-code-to.html"&gt;http://mscodingblog.blogspot.com/2017/08/setup-integrated-terminal-in-vs-code-to.html&lt;/a&gt;&lt;/p&gt;</content><category term="Configuration"></category><category term="tool"></category></entry><entry><title>åˆ©ç”¨VS CodeÂ Snippetsç”ŸæˆC++å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦</title><link href="/li-yong-vs-code-snippetssheng-cheng-ctou-wen-jian-bao-hu-fu.html" rel="alternate"></link><published>2018-10-07T20:54:00+08:00</published><updated>2018-10-07T20:54:00+08:00</updated><author><name>sjtuzbx</name></author><id>tag:None,2018-10-07:/li-yong-vs-code-snippetssheng-cheng-ctou-wen-jian-bao-hu-fu.html</id><summary type="html">&lt;p&gt;æ€ä¹ˆåˆ©ç”¨VS Code&amp;nbsp;Snippetsç”ŸæˆC++å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦&lt;/p&gt;</summary><content type="html">&lt;h3&gt;Solution&lt;/h3&gt;
&lt;p&gt;å°†ä¸‹åˆ—ä»£ç è´´å…¥ä½ çš„&lt;code&gt;snippets&lt;/code&gt;ä¸­ï¼Œç„¶ååœ¨&lt;code&gt;cpp&lt;/code&gt;æ–‡ä»¶ä¸­è¾“å…¥&lt;code&gt;pre&lt;/code&gt;+&lt;code&gt;tab&lt;/code&gt;å³å¯è‡ªåŠ¨ç”Ÿæˆç›¸å…³å¤´æ–‡ä»¶&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Preprocessor of cpp file&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;prefix&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;pre&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;body&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;#ifndef ${TM_FILENAME/(.*)(\\.)+(.*)/$${1:/upcase}_${3:/upcase}/}&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;#define ${TM_FILENAME/(.*)(\\.)+(.*)/$${1:/upcase}_${3:/upcase}/}&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;class ${TM_FILENAME/([a-z])(.*)(\\.)+(.*)/${1:/upcase}${2}/} {&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;                &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;$1&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;};&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;span class="w"&gt;            &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;#endif&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;description&amp;quot;&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Preprocessor of cpp and hpp file&amp;quot;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;æ¯ä¸€ä¸ª&lt;code&gt;snippet&lt;/code&gt;ç”±&lt;code&gt;prefix&lt;/code&gt;, &lt;code&gt;body&lt;/code&gt;å’Œ&lt;code&gt;description&lt;/code&gt;ç»„æˆ,å…¶ä¸­&lt;code&gt;prefix&lt;/code&gt;è¡¨ç¤ºä½ çš„å¿«æ·é”®ç¬¦ï¼Œ&lt;code&gt;body&lt;/code&gt;æ˜¯ä½ çš„&lt;code&gt;snippet&lt;/code&gt;å†…å®¹ã€‚
&lt;code&gt;$TM_FILENAME&lt;/code&gt;æ˜¯ç³»ç»Ÿå®šä¹‰çš„å˜é‡ï¼Œè¡¨ç¤ºå½“å‰æ–‡ä»¶çš„å®Œæ•´æ–‡ä»¶åï¼Œç„¶ååˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼ç”Ÿæˆå¯¹åº”çš„å¤´æ–‡ä»¶ä¿æŠ¤ç¬¦ã€‚&lt;/p&gt;
&lt;h3&gt;è§£å†³VS&amp;nbsp;Codeä¸­markdownçš„snippetæ— æ³•è‡ªåŠ¨è¡¥å…¨&lt;/h3&gt;
&lt;p&gt;åŸå› æ˜¯markdownæ–‡ä»¶ä¸­çš„quickSuggetionsé»˜è®¤æ˜¯false, å› æ­¤åœ¨user&amp;nbsp;settingä¸­æ·»åŠ ä¸‹åˆ—ä»£ç å³å¯&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;[markdown]&amp;quot;&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="err"&gt;{&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="ss"&gt;&amp;quot;editor.quickSuggestions&amp;quot;&lt;/span&gt;&lt;span class="err"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;true&lt;/span&gt;
&lt;span class="w"&gt;  &lt;/span&gt;&lt;span class="err"&gt;}&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Reference&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://code.visualstudio.com/docs/editor/userdefinedsnippets#_global-snippets"&gt;https://code.visualstudio.com/docs/editor/userdefinedsnippets#_global-snippets&lt;/a&gt;
&lt;a href="https://github.com/Microsoft/vscode/issues/26108"&gt;https://github.com/Microsoft/vscode/issues/26108&lt;/a&gt;&lt;/p&gt;</content><category term="programming"></category><category term="tool"></category></entry><entry><title>è§£å†³VSÂ Codeåœ¨ubuntuä¸‹terminalæ— æ³•æ˜¾ç¤ºä¸‹åˆ’çº¿çš„é—®é¢˜</title><link href="/jie-jue-vs-codezai-ubuntuxia-terminalwu-fa-xian-shi-xia-hua-xian-de-wen-ti.html" rel="alternate"></link><published>2018-10-07T20:47:00+08:00</published><updated>2018-10-07T20:47:00+08:00</updated><author><name>sjtuzbx</name></author><id>tag:None,2018-10-07:/jie-jue-vs-codezai-ubuntuxia-terminalwu-fa-xian-shi-xia-hua-xian-de-wen-ti.html</id><summary type="html">&lt;p&gt;æ€ä¹ˆè§£å†³VS&amp;nbsp;Codeåœ¨ubuntuä¸‹terminalæ— æ³•æ˜¾ç¤ºä¸‹åˆ’çº¿çš„é—®é¢˜&lt;/p&gt;</summary><content type="html">&lt;h3&gt;Solution&lt;/h3&gt;
&lt;p&gt;è¾“å…¥&lt;code&gt;ctrl + shift + P&lt;/code&gt; æ‰“å¼€å‘½ä»¤é¢æ¿æœç´¢ &lt;code&gt;Open User Settings&lt;/code&gt; - &lt;code&gt;Open settings.json&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æ·»åŠ &lt;code&gt;"editor.fontFamily": "'Ubuntu Mono', monospace"&lt;/code&gt;å³å¯&lt;/p&gt;
&lt;h3&gt;&lt;span class="caps"&gt;VS&lt;/span&gt;&amp;nbsp;Codeæ˜¾ç¤ºæ•°å­¦å…¬å¼&lt;/h3&gt;
&lt;p&gt;è¾“å…¥&lt;code&gt;ctrl + shift + X&lt;/code&gt;æœç´¢&lt;strong&gt; Markdown+Math &lt;/strong&gt;å®‰è£…å³å¯ã€‚ä¸€å…±æœ‰4ç§å½¢å¼çš„texmathè¯­æ³•ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§è‡ªå·±çš„éœ€æ±‚é€‰æ‹©,å¯ä»¥é€šè¿‡ä¸‹åˆ—ä»£ç ä¿®æ”¹&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;quot;mdmath.delimiters&amp;quot;: &amp;quot;dollars&amp;quot; // è¿™é‡Œè¾“å…¥ä½ éœ€è¦çš„è¯­æ³•
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Reference&lt;/h3&gt;
&lt;p&gt;&lt;a href="https://github.com/Microsoft/vscode/issues/38133"&gt;https://github.com/Microsoft/vscode/issues/38133&lt;/a&gt;&lt;/p&gt;</content><category term="Configuration"></category><category term="tool"></category></entry><entry><title>C++Â STLå¸¸ç”¨æ•°æ®ç»“æ„æ•´ç†</title><link href="/c-stlchang-yong-shu-ju-jie-gou-zheng-li.html" rel="alternate"></link><published>2018-10-07T20:21:00+08:00</published><updated>2018-10-07T20:21:00+08:00</updated><author><name>sjtuzbx</name></author><id>tag:None,2018-10-07:/c-stlchang-yong-shu-ju-jie-gou-zheng-li.html</id><summary type="html">&lt;p&gt;vector, stack, queue, list, forward_list, deque, priority_queue,&amp;nbsp;set&amp;#8230;&lt;/p&gt;</summary><content type="html">&lt;ol&gt;
&lt;li&gt;vector&lt;ul&gt;
&lt;li&gt;æ’å…¥push_back(),&amp;nbsp;æ—¶é—´å¤æ‚åº¦O(1)&lt;/li&gt;
&lt;li&gt;åˆ é™¤erase(iterator position),&amp;nbsp;æ—¶é—´å¤æ‚åº¦O(n)å–å†³äºåˆ é™¤çš„ä½ç½®&lt;/li&gt;
&lt;li&gt;æ”¯æŒéšæœºè®¿é—®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;stack&lt;ul&gt;
&lt;li&gt;æ’å…¥push(),&amp;nbsp;æ—¶é—´å¤æ‚åº¦O(1)&lt;/li&gt;
&lt;li&gt;åˆ é™¤pop(),&amp;nbsp;æ—¶é—´å¤æ‚åº¦O(1)&lt;/li&gt;
&lt;li&gt;ä¸æ”¯æŒéšæœºè®¿é—®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;queue&lt;ul&gt;
&lt;li&gt;æ’å…¥push(),&amp;nbsp;æ—¶é—´å¤æ‚åº¦O(1)&lt;/li&gt;
&lt;li&gt;åˆ é™¤pop(),&amp;nbsp;æ—¶é—´å¤æ‚åº¦O(1)&lt;/li&gt;
&lt;li&gt;ä¸æ”¯æŒéšæœºè®¿é—®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;list(åŒå‘é“¾è¡¨)&lt;ul&gt;
&lt;li&gt;æ’å…¥push_front(), push_back(),&amp;nbsp;æ—¶é—´å¤æ‚åº¦O(1)&lt;/li&gt;
&lt;li&gt;åˆ é™¤pop_front(), pop_back(), erase(iterator position),&amp;nbsp;æ—¶é—´å¤æ‚åº¦O(1)&lt;/li&gt;
&lt;li&gt;ä¸æ”¯æŒéšæœºè®¿é—®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;forward_list(å•é“¾è¡¨)&lt;ul&gt;
&lt;li&gt;æ’å…¥push_front(), insert_after(),&amp;nbsp;æ—¶é—´å¤æ‚åº¦O(1)&lt;/li&gt;
&lt;li&gt;åˆ é™¤pop_front(), erase_after(),&amp;nbsp;æ—¶é—´å¤æ‚åº¦O(1)&lt;/li&gt;
&lt;li&gt;ä¸æ”¯æŒéšæœºè®¿é—®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;deque(åŒç«¯é˜Ÿåˆ—)&lt;ul&gt;
&lt;li&gt;æ’å…¥push_front(), push_back(),&amp;nbsp;æ—¶é—´å¤æ‚åº¦O(1)&lt;/li&gt;
&lt;li&gt;åˆ é™¤push_back(), pop_back(),&amp;nbsp;æ—¶é—´å¤æ‚åº¦O(1)&lt;/li&gt;
&lt;li&gt;æ”¯æŒéšæœºè®¿é—®&lt;/li&gt;
&lt;li&gt;ç›¸å¯¹äºlist,&amp;nbsp;dequeåœ¨ä¸­é—´ä½ç½®æ’å…¥é€Ÿè¯»è¾ƒæ…¢&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;priority_queue(ä¼˜å…ˆçº§é˜Ÿåˆ—)&lt;ul&gt;
&lt;li&gt;æ’å…¥push(),&amp;nbsp;æ—¶é—´å¤æ‚åº¦O(log(n))&lt;/li&gt;
&lt;li&gt;åˆ é™¤pop(),&amp;nbsp;æ—¶é—´å¤æ‚åº¦O(log(n))&lt;/li&gt;
&lt;li&gt;å†…éƒ¨å®ç°æ”¯æŒéšæœºè®¿é—®ï¼Œä½†æ˜¯ä¼˜å…ˆçº§é˜Ÿåˆ—ä¸æ”¯æŒ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;set(é›†åˆ)&lt;ul&gt;
&lt;li&gt;åˆ©ç”¨äºŒå‰æœç´¢æ ‘å®ç°&lt;/li&gt;
&lt;li&gt;æ’å…¥insert(), æ—¶é—´å¤æ‚åº¦O(log(n)),&amp;nbsp;å¦‚æœç»™å‡ºæ’å…¥ä½ç½®åˆ™æ—¶é—´å¤æ‚åº¦ä¸ºO(1)&lt;/li&gt;
&lt;li&gt;åˆ é™¤erase(position), æ—¶é—´å¤æ‚åº¦O(1); erase(val),&amp;nbsp;æ—¶é—´å¤æ‚åº¦O(log(n))&lt;/li&gt;
&lt;li&gt;æœç´¢find(),&amp;nbsp;æ—¶é—´å¤æ‚åº¦O(log(n))&lt;/li&gt;
&lt;li&gt;æ”¯æŒlower_bound(), upper_bound(),&amp;nbsp;equal_range()æ“ä½œ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;unordered_set&lt;ul&gt;
&lt;li&gt;åˆ©ç”¨å“ˆå¸Œè¡¨å®ç°&lt;/li&gt;
&lt;li&gt;æ’å…¥insert(),&amp;nbsp;æ—¶é—´å¤æ‚åº¦å¹³å‡æƒ…å†µO(1)ï¼Œæœ€åæƒ…å†µO(n)&lt;/li&gt;
&lt;li&gt;åˆ é™¤erase(), æ—¶é—´å¤æ‚åº¦å¹³å‡æƒ…å†µO(1),&amp;nbsp;æœ€åæƒ…å†µO(n)&lt;/li&gt;
&lt;li&gt;æœç´¢find(), æ—¶é—´å¤æ‚åº¦å¹³å‡æƒ…å†µO(1),&amp;nbsp;æœ€åæƒ…å†µO(n)&lt;/li&gt;
&lt;li&gt;ä¸æ”¯æŒlower_bound(),&amp;nbsp;upper_bound()æ“ä½œ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;multiset&lt;ul&gt;
&lt;li&gt;èƒ½åŒ…æ‹¬å¤šä¸ªæœ‰ç›¸åŒå€¼çš„å…ƒç´ &lt;/li&gt;
&lt;li&gt;åˆ©ç”¨äºŒå‰æœç´¢æ ‘å®ç°&lt;/li&gt;
&lt;li&gt;æ’å…¥insert(), æ—¶é—´å¤æ‚åº¦O(log(n)),&amp;nbsp;å¦‚æœç»™å‡ºæ’å…¥ä½ç½®åˆ™æ—¶é—´å¤æ‚åº¦ä¸ºO(1)&lt;/li&gt;
&lt;li&gt;åˆ é™¤erase(position), æ—¶é—´å¤æ‚åº¦O(1); erase(val),&amp;nbsp;æ—¶é—´å¤æ‚åº¦O(log(n))&lt;/li&gt;
&lt;li&gt;æœç´¢find(),&amp;nbsp;æ—¶é—´å¤æ‚åº¦O(log(n))&lt;/li&gt;
&lt;li&gt;æ”¯æŒlower_bound(), upper_bound(),&amp;nbsp;equal_range()æ“ä½œ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;unordered_multiset&lt;ul&gt;
&lt;li&gt;èƒ½åŒ…æ‹¬å¤šä¸ªæœ‰ç›¸åŒå€¼çš„å…ƒç´ &lt;/li&gt;
&lt;li&gt;åˆ©ç”¨å“ˆå¸Œè¡¨å®ç°&lt;/li&gt;
&lt;li&gt;æ’å…¥insert(),&amp;nbsp;æ—¶é—´å¤æ‚åº¦å¹³å‡æƒ…å†µO(1)ï¼Œæœ€åæƒ…å†µO(n)&lt;/li&gt;
&lt;li&gt;åˆ é™¤erase(), æ—¶é—´å¤æ‚åº¦å¹³å‡æƒ…å†µO(1),&amp;nbsp;æœ€åæƒ…å†µO(n)&lt;/li&gt;
&lt;li&gt;æœç´¢find(), æ—¶é—´å¤æ‚åº¦å¹³å‡æƒ…å†µO(1),&amp;nbsp;æœ€åæƒ…å†µO(n)&lt;/li&gt;
&lt;li&gt;ä¸æ”¯æŒlower_bound(),&amp;nbsp;upper_bound()æ“ä½œ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;map&lt;ul&gt;
&lt;li&gt;åˆ©ç”¨äºŒå‰æœç´¢æ ‘å®ç°&lt;/li&gt;
&lt;li&gt;æ’å…¥insert(), æ—¶é—´å¤æ‚åº¦O(log(n)),&amp;nbsp;å¦‚æœç»™å‡ºæ’å…¥ä½ç½®åˆ™æ—¶é—´å¤æ‚åº¦ä¸ºO(1)&lt;/li&gt;
&lt;li&gt;åˆ é™¤erase(position), æ—¶é—´å¤æ‚åº¦O(1); erase(val),&amp;nbsp;æ—¶é—´å¤æ‚åº¦O(log(n))&lt;/li&gt;
&lt;li&gt;æœç´¢find(),&amp;nbsp;æ—¶é—´å¤æ‚åº¦O(log(n))&lt;/li&gt;
&lt;li&gt;æ”¯æŒlower_bound(), upper_bound(),&amp;nbsp;equal_range()æ“ä½œ&lt;/li&gt;
&lt;li&gt;key-valueå¯¹ï¼Œæ”¯æŒ[]è®¿é—®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;unordered_map&lt;ul&gt;
&lt;li&gt;åˆ©ç”¨å“ˆå¸Œè¡¨å®ç°&lt;/li&gt;
&lt;li&gt;æ’å…¥insert(),&amp;nbsp;æ—¶é—´å¤æ‚åº¦å¹³å‡æƒ…å†µO(1)ï¼Œæœ€åæƒ…å†µO(n)&lt;/li&gt;
&lt;li&gt;åˆ é™¤erase(), æ—¶é—´å¤æ‚åº¦å¹³å‡æƒ…å†µO(1),&amp;nbsp;æœ€åæƒ…å†µO(n)&lt;/li&gt;
&lt;li&gt;æœç´¢find(), æ—¶é—´å¤æ‚åº¦å¹³å‡æƒ…å†µO(1),&amp;nbsp;æœ€åæƒ…å†µO(n)&lt;/li&gt;
&lt;li&gt;ä¸æ”¯æŒlower_bound(),&amp;nbsp;upper_bound()æ“ä½œ&lt;/li&gt;
&lt;li&gt;key-valueå¯¹ï¼Œæ”¯æŒ[]è®¿é—®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;multimap&lt;ul&gt;
&lt;li&gt;èƒ½åŒ…æ‹¬å¤šä¸ªæœ‰ç›¸åŒå€¼çš„å…ƒç´ &lt;/li&gt;
&lt;li&gt;åˆ©ç”¨äºŒå‰æœç´¢æ ‘å®ç°&lt;/li&gt;
&lt;li&gt;æ’å…¥insert(), æ—¶é—´å¤æ‚åº¦O(log(n)),&amp;nbsp;å¦‚æœç»™å‡ºæ’å…¥ä½ç½®åˆ™æ—¶é—´å¤æ‚åº¦ä¸ºO(1)&lt;/li&gt;
&lt;li&gt;åˆ é™¤erase(position), æ—¶é—´å¤æ‚åº¦O(1); erase(val),&amp;nbsp;æ—¶é—´å¤æ‚åº¦O(log(n))&lt;/li&gt;
&lt;li&gt;æœç´¢find(),&amp;nbsp;æ—¶é—´å¤æ‚åº¦O(log(n))&lt;/li&gt;
&lt;li&gt;æ”¯æŒlower_bound(), upper_bound(),&amp;nbsp;equal_range()æ“ä½œ&lt;/li&gt;
&lt;li&gt;key-valueå¯¹ï¼Œä¸æ”¯æŒ[]è®¿é—®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;unordered_multimap&lt;ul&gt;
&lt;li&gt;èƒ½åŒ…æ‹¬å¤šä¸ªæœ‰ç›¸åŒå€¼çš„å…ƒç´ &lt;/li&gt;
&lt;li&gt;åˆ©ç”¨å“ˆå¸Œè¡¨å®ç°&lt;/li&gt;
&lt;li&gt;æ’å…¥insert(),&amp;nbsp;æ—¶é—´å¤æ‚åº¦å¹³å‡æƒ…å†µO(1)ï¼Œæœ€åæƒ…å†µO(n)&lt;/li&gt;
&lt;li&gt;åˆ é™¤erase(), æ—¶é—´å¤æ‚åº¦å¹³å‡æƒ…å†µO(1),&amp;nbsp;æœ€åæƒ…å†µO(n)&lt;/li&gt;
&lt;li&gt;æœç´¢find(), æ—¶é—´å¤æ‚åº¦å¹³å‡æƒ…å†µO(1),&amp;nbsp;æœ€åæƒ…å†µO(n)&lt;/li&gt;
&lt;li&gt;ä¸æ”¯æŒlower_bound(),&amp;nbsp;upper_bound()æ“ä½œ&lt;/li&gt;
&lt;li&gt;key-valueå¯¹ï¼Œä¸æ”¯æŒ[]è®¿é—®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="programming"></category><category term="programing"></category></entry></feed>